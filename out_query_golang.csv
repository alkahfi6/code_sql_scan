AppName,RelPath,File,SourceCategory,SourceKind,CallSiteKind,LineStart,LineEnd,Func,RawSql,SqlClean,UsageKind,IsWrite,HasCrossDb,DbList,ObjectCount,IsDynamic,ConnName,ConnDb,QueryHash,RiskLevel,DefinedInRelPath,DefinedInLine
golang-sample,go1/destination.go,destination.go,code,go,go,15,15,UpdateControlTableResikoPasar,"[dbo].[UpdateControlTableResikoPasar] ?,?","[dbo].[UpdateControlTableResikoPasar] ?,?",EXEC,true,false,,1,false,db,,6ae73001c2fda128acc6c4df428d721c6c6c3000,MEDIUM,go1/sp.go,3
golang-sample,go1/destination.go,destination.go,code,go,go,25,25,GetOboxPreviousWorkingDate,select * from OBOXGetPrevDate_v,select * from OBOXGetPrevDate_v,SELECT,false,false,,1,false,db,,2b670ce0899d69a442ab570b63ab71cd8d786174,LOW,go1/query.go,3
golang-sample,go1/destination.go,destination.go,code,go,go,41,41,DeleteDuplicateConfo,"DELETE FROM confomk005_a 
WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112);
DELETE FROM confomk006_a 
WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112)","DELETE FROM confomk005_a WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112); DELETE FROM confomk006_a WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112)",DELETE,true,false,,2,false,db,,87d99f09bba6e31ded16a76947e479f19800f995,MEDIUM,go1/query.go,5
golang-sample,go1/destination.go,destination.go,code,go,go,58,58,ExecuteSPMurexTConfo,dbo.TConfoMK005_A,dbo.TConfoMK005_A,EXEC,true,false,,1,false,db,,1bf3c016699705ac5e7a5cc109d738e2ec826525,MEDIUM,go1/sp.go,8
golang-sample,go1/destination.go,destination.go,code,go,go,58,58,ExecuteSPMurexTConfo,dbo.TConfoMK006_A,dbo.TConfoMK006_A,EXEC,true,false,,1,false,db,,a406be5130ee6f614473551dd13b257dbe4e1f2f,MEDIUM,go1/sp.go,8
golang-sample,go1/destination.go,destination.go,code,go,go,68,68,GetNamaSSB,"
declare @dtToday varchar(8)
set @dtToday = convert(varchar(8), getdate(), 112)
select
isnull(CAST(
 STUFF((SELECT DISTINCT ',' + ('''' + CAST(NamaSSB AS VARCHAR(500)) + '''')
 FROM mk006_a
   WHERE convert(varchar(8), ProcessDate, 112) = @dtToday
   GROUP BY NamaSSB
   FOR XML PATH (''))
   , 1, 1, '') AS VARCHAR(8000)), '''''')  AS secid
","declare @dtToday varchar(8) set @dtToday = convert(varchar(8), getdate(), 112) select isnull(CAST( STUFF((SELECT DISTINCT ',' + ('''' + CAST(NamaSSB AS VARCHAR(500)) + '''') FROM mk006_a WHERE convert(varchar(8), ProcessDate, 112) = @dtToday GROUP BY NamaSSB FOR XML PATH ('')) , 1, 1, '') AS VARCHAR(8000)), '''''') AS secid",SELECT,false,false,,1,false,db,,7f8c1bcbcafd8058df3c7325886d646aab09a30e,LOW,go1/query.go,137
golang-sample,go1/destination.go,destination.go,code,go,go,78,78,DeleteAvgPrice,"
declare @dtToday varchar(8)
set @dtToday = convert(varchar(8),  getdate(), 112)
delete mk006_a_actuate
where convert(varchar(8), ProcessDate, 112) = @dtToday
","declare @dtToday varchar(8) set @dtToday = convert(varchar(8), getdate(), 112) delete mk006_a_actuate where convert(varchar(8), ProcessDate, 112) = @dtToday",DELETE,true,false,,1,false,db,,02a5a6a3cb7ccdd2c5b0af63661205fb9c9c1949,MEDIUM,go1/query.go,150
golang-sample,go1/destination.go,destination.go,code,go,go,94,94,UpdateTableMK,[dbo].[MK006-A_UpdateValue],[dbo].[MK006-A_UpdateValue],EXEC,true,false,,1,false,db,,6611667c579e959aaf66d62fdb2464d1c487f15f,MEDIUM,go1/sp.go,10
golang-sample,go1/destination.go,destination.go,code,go,go,94,94,UpdateTableMK,[dbo].[MK005-A_UpdateJumlah],[dbo].[MK005-A_UpdateJumlah],EXEC,true,false,,1,false,db,,8a49534b529eb37c2b4ec16c3db40ec5b8f1f288,MEDIUM,go1/sp.go,10
golang-sample,go1/destination.go,destination.go,code,go,go,115,115,ExecSPMK,[dbo].[MK005-A],[dbo].[MK005-A],EXEC,true,false,,1,false,db,,376faa5ad96893cab7472716697765a36ddc3c54,MEDIUM,go1/sp.go,14
golang-sample,go1/destination.go,destination.go,code,go,go,115,115,ExecSPMK,[dbo].[MK002-A_detail],[dbo].[MK002-A_detail],EXEC,true,false,,1,false,db,,8b9c9753007e4c13de674c52f8578fc8c37d1b0a,MEDIUM,go1/sp.go,14
golang-sample,go1/destination.go,destination.go,code,go,go,115,115,ExecSPMK,[dbo].[MK006-A],[dbo].[MK006-A],EXEC,true,false,,1,false,db,,b6fc4c6c823dec402ed2fdef1e96408ab7ccba58,MEDIUM,go1/sp.go,14
golang-sample,go1/destination.go,destination.go,code,go,go,115,115,ExecSPMK,[dbo].[MK002-A],[dbo].[MK002-A],EXEC,true,false,,1,false,db,,cae9b620e82a1bd27556bf598c50353d204e5e5d,MEDIUM,go1/sp.go,14
golang-sample,go1/destination.go,destination.go,code,go,go,129,129,GetFlatFileData,[dbo].[MK006-A_flatfile],[dbo].[MK006-A_flatfile],EXEC,true,false,,1,false,db,,a039651c0176afc443f051510c2b21a69471f74d,MEDIUM,go1/sp.go,18
golang-sample,go1/destination.go,destination.go,code,go,go,137,137,GetFlatFileData,[dbo].[MK006-A_flatfile],[dbo].[MK006-A_flatfile],EXEC,true,false,,1,false,db,,a039651c0176afc443f051510c2b21a69471f74d,MEDIUM,go1/sp.go,18
golang-sample,go1/destination.go,destination.go,code,go,go,137,137,GetFlatFileData,[dbo].[MK005-A_flatfile],[dbo].[MK005-A_flatfile],EXEC,true,false,,1,false,db,,a35d937d6732b68a5e4ab206e525162452d18c44,MEDIUM,go1/sp.go,18
golang-sample,go1/destination.go,destination.go,code,go,go,151,151,GetFlatFileData,[dbo].[MK002-A_flatfile],[dbo].[MK002-A_flatfile],EXEC,true,false,,1,false,db,,68b658f8ee9c86e6771ceeb8767e9d4a945cac5e,MEDIUM,go1/sp.go,18
golang-sample,go1/destination.go,destination.go,code,go,go,151,151,GetFlatFileData,[dbo].[MK006-A_flatfile],[dbo].[MK006-A_flatfile],EXEC,true,false,,1,false,db,,a039651c0176afc443f051510c2b21a69471f74d,MEDIUM,go1/sp.go,18
golang-sample,go1/destination.go,destination.go,code,go,go,151,151,GetFlatFileData,[dbo].[MK005-A_flatfile],[dbo].[MK005-A_flatfile],EXEC,true,false,,1,false,db,,a35d937d6732b68a5e4ab206e525162452d18c44,MEDIUM,go1/sp.go,18
golang-sample,go1/destination.go,destination.go,code,go,go,179,179,GetFlatFileUnstructuredData,[dbo].[MK006UN-A_flatfile],[dbo].[MK006UN-A_flatfile],EXEC,true,false,,1,false,db,,401d8fd3462e5cba3b3693d62bf83e1ec5de571f,MEDIUM,go1/sp.go,19
golang-sample,go1/destination.go,destination.go,code,go,go,179,179,GetFlatFileUnstructuredData,[dbo].[MK002UN-A_flatfile],[dbo].[MK002UN-A_flatfile],EXEC,true,false,,1,false,db,,4bc4cf8d89d1a3cae2f102385535a3d65e4753a4,MEDIUM,go1/sp.go,19
golang-sample,go1/destination.go,destination.go,code,go,go,179,179,GetFlatFileUnstructuredData,[dbo].[MK005UN-A_flatfile],[dbo].[MK005UN-A_flatfile],EXEC,true,false,,1,false,db,,bb89e1f3f887161b4bb20d35956bc97bb8e6292f,MEDIUM,go1/sp.go,19
golang-sample,go1/destination.go,destination.go,code,go,go,191,191,GetTableRetry,select process_type from dbo.control_table_resiko_pasar where success_bit = 0 ,select process_type from dbo.control_table_resiko_pasar where success_bit = 0,SELECT,false,false,,1,false,db,,71a7af3e8ce7fd6589c0bf8df83982f2d4c694f4,LOW,go1/destination.go,190
golang-sample,go1/destination.go,destination.go,code,go,go,208,208,DeleteDuplicateDataMK,"delete from mk005_a 
where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112);
delete from mk006_a 
where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112)","delete from mk005_a where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112); delete from mk006_a where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112)",DELETE,true,false,,2,false,db,,9dd0b0f2c775d1663a9ee6741148fe76427ee9d7,MEDIUM,go1/query.go,77
golang-sample,go1/query.go,query.go,code,go,go,3,3,go1/query.go@L3,select * from OBOXGetPrevDate_v,select * from OBOXGetPrevDate_v,SELECT,false,false,,1,false,,,2b670ce0899d69a442ab570b63ab71cd8d786174,LOW,go1/query.go,3
golang-sample,go1/query.go,query.go,code,go,go,5,5,go1/query.go@L5,"DELETE FROM confomk005_a 
WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112)","DELETE FROM confomk005_a WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112)",DELETE,true,false,,1,false,,,05b7f6bc6de9c94111ddc9b64163080303352a42,MEDIUM,go1/query.go,5
golang-sample,go1/query.go,query.go,code,go,go,7,7,go1/query.go@L7,"DELETE FROM confomk006_a 
WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112)","DELETE FROM confomk006_a WHERE convert(varchar(8), ProcessDate, 112) >= convert(varchar(8), getdate(), 112)",DELETE,true,false,,1,false,,,ece0a8fc2aef9581217c832e25c532b5aed7327c,MEDIUM,go1/query.go,7
golang-sample,go1/query.go,query.go,code,go,go,10,10,go1/query.go@L10,"
select CFN1,CA1
,CA2,CA3,CA4,DEALNO,PS_1
,SECID,ISSUER,DEALDATE,SETTDATE
,IPAYDATE,MDATE,COUPRATE_8,CCY
,QTY,PRICE_8,YIELD_8,COSTAMT
,PURCHINTAMT,BROKFEECCY,VATAMT
,WHTAMT,SETTCCY,SETTAMT,C1_1
,C2_1,ST1,ST2,ST3,ST4,C1_2,C2_2
,BIC,SD,DESCR,BROKFEEAMT
,M_BANK,CONTRACT,X_M_NB
    from [[schema]].mk006a_confo ","select CFN1,CA1 ,CA2,CA3,CA4,DEALNO,PS_1 ,SECID,ISSUER,DEALDATE,SETTDATE ,IPAYDATE,MDATE,COUPRATE_8,CCY ,QTY,PRICE_8,YIELD_8,COSTAMT ,PURCHINTAMT,BROKFEECCY,VATAMT ,WHTAMT,SETTCCY,SETTAMT,C1_1 ,C2_1,ST1,ST2,ST3,ST4,C1_2,C2_2 ,BIC,SD,DESCR,BROKFEEAMT ,M_BANK,CONTRACT,X_M_NB from [[schema]].mk006a_confo",SELECT,false,false,,3,true,,,fd9583c758cfc99a8e13208a30a2d94510709bcf,LOW,go1/query.go,10
golang-sample,go1/query.go,query.go,code,go,go,22,22,go1/query.go@L22,"
SELECT CFN1,CA1,CA2,CA3,CA4
,DEALNO,PS_1,SECID,DESCR,ISSUER
,DEALDATE,SETTDATE,IPAYDATE,MDATE,COUPRATE_8
,CCY,QTY,PRICE_8,YIELD_8,COSTAMT
,PURCHINTAMT,BROKFEECCY,BROKFEEAMT,VATAMT,WHTAMT
,SETTCCY,SETTAMT,C1_1,C2_1,ST1
,ST2,ST3,ST4,C1_2,C2_2
,BIC,SD,M_BANK,CONTRACT,X_M_NB 
FROM [[schema]].MK005A_CONFO","SELECT CFN1,CA1,CA2,CA3,CA4 ,DEALNO,PS_1,SECID,DESCR,ISSUER ,DEALDATE,SETTDATE,IPAYDATE,MDATE,COUPRATE_8 ,CCY,QTY,PRICE_8,YIELD_8,COSTAMT ,PURCHINTAMT,BROKFEECCY,BROKFEEAMT,VATAMT,WHTAMT ,SETTCCY,SETTAMT,C1_1,C2_1,ST1 ,ST2,ST3,ST4,C1_2,C2_2 ,BIC,SD,M_BANK,CONTRACT,X_M_NB FROM [[schema]].MK005A_CONFO",SELECT,false,false,,3,true,,,0989923441770dc59988eda8b3a759b568d62687,LOW,go1/query.go,22
golang-sample,go1/query.go,query.go,code,go,go,33,33,go1/query.go@L33,"
INSERT INTO SQL_REPLICATE.dbo.confomk006_a (
CFN1,CA1,CA2,CA3,CA4,
DEALNO,PS_1,SECID,ISSUER,DEALDATE,
SETTDATE,IPAYDATE,MDATE,COUPRATE_8,CCY
,QTY,PRICE_8,YIELD_8,COSTAMT,PURCHINTAMT,
BROKFEECCY,VATAMT,WHTAMT,SETTCCY,SETTAMT,
C1_1,C2_1,ST1,ST2,ST3,
ST4,C1_2,C2_2,BIC,SD,
ProcessDate,DESCR,BROKFEEAMT,M_BANK,CONTRACT,
X_M_NB )
values (:CFN1,:CA1,:CA2,:CA3,:CA4,
:DEALNO,:PS_1,:SECID,:ISSUER,:DEALDATE,
:SETTDATE,:IPAYDATE,:MDATE,:COUPRATE_8,:CCY
,:QTY,:PRICE_8,:YIELD_8,:COSTAMT,:PURCHINTAMT,
:BROKFEECCY,:VATAMT,:WHTAMT,:SETTCCY,:SETTAMT,
:C1_1,:C2_1,:ST1,:ST2,:ST3,
:ST4,:C1_2,:C2_2,:BIC,:SD,
:ProcessDate,:DESCR,:BROKFEEAMT,:M_BANK,:CONTRACT,
:X_M_NB )
","INSERT INTO SQL_REPLICATE.dbo.confomk006_a ( CFN1,CA1,CA2,CA3,CA4, DEALNO,PS_1,SECID,ISSUER,DEALDATE, SETTDATE,IPAYDATE,MDATE,COUPRATE_8,CCY ,QTY,PRICE_8,YIELD_8,COSTAMT,PURCHINTAMT, BROKFEECCY,VATAMT,WHTAMT,SETTCCY,SETTAMT, C1_1,C2_1,ST1,ST2,ST3, ST4,C1_2,C2_2,BIC,SD, ProcessDate,DESCR,BROKFEEAMT,M_BANK,CONTRACT, X_M_NB ) values (:CFN1,:CA1,:CA2,:CA3,:CA4, :DEALNO,:PS_1,:SECID,:ISSUER,:DEALDATE, :SETTDATE,:IPAYDATE,:MDATE,:COUPRATE_8,:CCY ,:QTY,:PRICE_8,:YIELD_8,:COSTAMT,:PURCHINTAMT, :BROKFEECCY,:VATAMT,:WHTAMT,:SETTCCY,:SETTAMT, :C1_1,:C2_1,:ST1,:ST2,:ST3, :ST4,:C1_2,:C2_2,:BIC,:SD, :ProcessDate,:DESCR,:BROKFEEAMT,:M_BANK,:CONTRACT, :X_M_NB )",INSERT,true,true,SQL_REPLICATE,1,false,,,c93feaf2a4b54eb5038e371932f5075bcdcf161b,HIGH,go1/query.go,33
golang-sample,go1/query.go,query.go,code,go,go,55,55,go1/query.go@L55,"
INSERT INTO SQL_REPLICATE.dbo.confomk005_a (
CFN1,CA1,CA2,CA3,CA4,
DEALNO,PS_1,SECID,ISSUER,DEALDATE,
SETTDATE,IPAYDATE,MDATE,COUPRATE_8,CCY
,QTY,PRICE_8,YIELD_8,COSTAMT,PURCHINTAMT,
BROKFEECCY,VATAMT,WHTAMT,SETTCCY,SETTAMT,
C1_1,C2_1,ST1,ST2,ST3,
ST4,C1_2,C2_2,BIC,SD,
ProcessDate,DESCR,BROKFEEAMT,M_BANK,CONTRACT,
X_M_NB )
values (:CFN1,:CA1,:CA2,:CA3,:CA4,
:DEALNO,:PS_1,:SECID,:ISSUER,:DEALDATE,
:SETTDATE,:IPAYDATE,:MDATE,:COUPRATE_8,:CCY
,:QTY,:PRICE_8,:YIELD_8,:COSTAMT,:PURCHINTAMT,
:BROKFEECCY,:VATAMT,:WHTAMT,:SETTCCY,:SETTAMT,
:C1_1,:C2_1,:ST1,:ST2,:ST3,
:ST4,:C1_2,:C2_2,:BIC,:SD,
:ProcessDate,:DESCR,:BROKFEEAMT,:M_BANK,:CONTRACT,
:X_M_NB )
","INSERT INTO SQL_REPLICATE.dbo.confomk005_a ( CFN1,CA1,CA2,CA3,CA4, DEALNO,PS_1,SECID,ISSUER,DEALDATE, SETTDATE,IPAYDATE,MDATE,COUPRATE_8,CCY ,QTY,PRICE_8,YIELD_8,COSTAMT,PURCHINTAMT, BROKFEECCY,VATAMT,WHTAMT,SETTCCY,SETTAMT, C1_1,C2_1,ST1,ST2,ST3, ST4,C1_2,C2_2,BIC,SD, ProcessDate,DESCR,BROKFEEAMT,M_BANK,CONTRACT, X_M_NB ) values (:CFN1,:CA1,:CA2,:CA3,:CA4, :DEALNO,:PS_1,:SECID,:ISSUER,:DEALDATE, :SETTDATE,:IPAYDATE,:MDATE,:COUPRATE_8,:CCY ,:QTY,:PRICE_8,:YIELD_8,:COSTAMT,:PURCHINTAMT, :BROKFEECCY,:VATAMT,:WHTAMT,:SETTCCY,:SETTAMT, :C1_1,:C2_1,:ST1,:ST2,:ST3, :ST4,:C1_2,:C2_2,:BIC,:SD, :ProcessDate,:DESCR,:BROKFEEAMT,:M_BANK,:CONTRACT, :X_M_NB )",INSERT,true,true,SQL_REPLICATE,1,false,,,5d4c3fc3bafa513bd8b3d94f81c70289ef3cb3fc,HIGH,go1/query.go,55
golang-sample,go1/query.go,query.go,code,go,go,77,77,go1/query.go@L77,"delete from mk005_a 
where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112)","delete from mk005_a where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112)",DELETE,true,false,,1,false,,,5991f767c6a54d39a62b8afd7af3bdd059d33d52,MEDIUM,go1/query.go,77
golang-sample,go1/query.go,query.go,code,go,go,79,79,go1/query.go@L79,"delete from mk006_a 
where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112)","delete from mk006_a where convert(varchar(8),ProcessDate, 112) = convert(varchar(8),getdate(), 112)",DELETE,true,false,,1,false,,,3af9c6394a39d7e394c32777071366cb64d41543,MEDIUM,go1/query.go,79
golang-sample,go1/query.go,query.go,code,go,go,82,82,go1/query.go@L82,"
select DEALNO,BRANCHTRANSACTION  ,BRANCHCOMPLETION
,USERCOMPLETION ,STATUSDOKUMEN ,TRANSACTIONDATE
,FLAGDETAIL,KODEISIN,NAMASSB
,KATEGORIPENGUKURAN,NOMINAL,TANGGALPEMBELIAN
,JUMLAHPEMBELIAN,NAMAPEMBELI,GOLONGANPEMBELI
,MATAUANG,CIFNO,JUMLAHPENJUALAN
,CONTRACT,X_M_NB FROM [[schema]].MK006_A","select DEALNO,BRANCHTRANSACTION ,BRANCHCOMPLETION ,USERCOMPLETION ,STATUSDOKUMEN ,TRANSACTIONDATE ,FLAGDETAIL,KODEISIN,NAMASSB ,KATEGORIPENGUKURAN,NOMINAL,TANGGALPEMBELIAN ,JUMLAHPEMBELIAN,NAMAPEMBELI,GOLONGANPEMBELI ,MATAUANG,CIFNO,JUMLAHPENJUALAN ,CONTRACT,X_M_NB FROM [[schema]].MK006_A",SELECT,false,false,,3,true,,,7bb6e2898075515c9ed8e60b58295d157e67ca88,LOW,go1/query.go,82
golang-sample,go1/query.go,query.go,code,go,go,91,91,go1/query.go@L91,"
select DEALNO ,BRANCHTRANSACTION ,BRANCHCOMPLETION
,USERCOMPLETION ,STATUSDOKUMEN ,TRANSACTIONDATE
,FLAGDETAIL ,KODEISIN ,NAMASSB
,JENISSSB ,KATEGORIPENGUKURAN ,NOMINAL
,GOLONGANPIHAKLAWAN  ,GOLONGANPENERBIT ,PERINGKATPENERBITSSB
,LEMBAGAPEMERINGKAT    ,MATAUANG ,SUKUBUNGA
,DURASI   ,TANGGALJATUHTEMPO     ,JENISBUNGA
,CIFNO    ,JUMLAH   ,NAMAPENJUAL
,CONTRACT ,X_M_NB
FROM [[schema]].MK005_A","select DEALNO ,BRANCHTRANSACTION ,BRANCHCOMPLETION ,USERCOMPLETION ,STATUSDOKUMEN ,TRANSACTIONDATE ,FLAGDETAIL ,KODEISIN ,NAMASSB ,JENISSSB ,KATEGORIPENGUKURAN ,NOMINAL ,GOLONGANPIHAKLAWAN ,GOLONGANPENERBIT ,PERINGKATPENERBITSSB ,LEMBAGAPEMERINGKAT ,MATAUANG ,SUKUBUNGA ,DURASI ,TANGGALJATUHTEMPO ,JENISBUNGA ,CIFNO ,JUMLAH ,NAMAPENJUAL ,CONTRACT ,X_M_NB FROM [[schema]].MK005_A",SELECT,false,false,,3,true,,,2776a233210d0baa64580f27ed4b6a2b80f0f216,LOW,go1/query.go,91
golang-sample,go1/query.go,query.go,code,go,go,103,103,go1/query.go@L103,"
INSERT INTO SQL_REPLICATE.dbo.mk006_a (
DealNo,BranchTransaction,BranchCompletion
,UserCompletion,StatusDokumen,TransactionDate
,ProcessDate,FlagDetail,KodeISIN
,NamaSSB,KategoriPengukuran,Nominal
,TanggalPembelian,JumlahPembelian,JumlahPenjualan
,NamaPembeli,GolonganPembeli
,MataUang,CIFNo,CONTRACT,X_M_NB)
VALUES (:DealNo,:BranchTransaction,:BranchCompletion
,:UserCompletion,:StatusDokumen,:TransactionDate
,:ProcessDate,:FlagDetail,:KodeISIN
,:NamaSSB,:KategoriPengukuran,:Nominal
,:TanggalPembelian,:JumlahPembelian,:JumlahPenjualan
,:NamaPembeli,:GolonganPembeli
,:MataUang,:CIFNo,:CONTRACT,:X_M_NB)
","INSERT INTO SQL_REPLICATE.dbo.mk006_a ( DealNo,BranchTransaction,BranchCompletion ,UserCompletion,StatusDokumen,TransactionDate ,ProcessDate,FlagDetail,KodeISIN ,NamaSSB,KategoriPengukuran,Nominal ,TanggalPembelian,JumlahPembelian,JumlahPenjualan ,NamaPembeli,GolonganPembeli ,MataUang,CIFNo,CONTRACT,X_M_NB) VALUES (:DealNo,:BranchTransaction,:BranchCompletion ,:UserCompletion,:StatusDokumen,:TransactionDate ,:ProcessDate,:FlagDetail,:KodeISIN ,:NamaSSB,:KategoriPengukuran,:Nominal ,:TanggalPembelian,:JumlahPembelian,:JumlahPenjualan ,:NamaPembeli,:GolonganPembeli ,:MataUang,:CIFNo,:CONTRACT,:X_M_NB)",INSERT,true,true,SQL_REPLICATE,1,false,,,8529b988ed270d33baf8655babb31d52dbff9063,HIGH,go1/query.go,103
golang-sample,go1/query.go,query.go,code,go,go,121,121,go1/query.go@L121,"
INSERT INTO SQL_REPLICATE.dbo.mk005_a (
DealNo,BranchTransaction,BranchCompletion,UserCompletion,StatusDokumen
,TransactionDate,ProcessDate,FlagDetail,KodeISIN,NamaSSB
,JenisSSB,KategoriPengukuran,Nominal,Jumlah,GolonganPihakLawan
,GolonganPenerbit,PeringkatPenerbitSSB,LembagaPemeringkat,MataUang,SukuBunga
,Durasi,TanggalJatuhTempo,JenisBunga,CIFNo,NamaPenjual
,CONTRACT,X_M_NB)
VALUES (:DealNo,:BranchTransaction,:BranchCompletion,:UserCompletion,:StatusDokumen
,:TransactionDate,:ProcessDate,:FlagDetail,:KodeISIN,:NamaSSB
,:JenisSSB,:KategoriPengukuran,:Nominal,:Jumlah,:GolonganPihakLawan
,:GolonganPenerbit,:PeringkatPenerbitSSB,:LembagaPemeringkat,:MataUang,:SukuBunga
,:Durasi,:TanggalJatuhTempo,:JenisBunga,:CIFNo,:NamaPenjual
,:CONTRACT,:X_M_NB)
","INSERT INTO SQL_REPLICATE.dbo.mk005_a ( DealNo,BranchTransaction,BranchCompletion,UserCompletion,StatusDokumen ,TransactionDate,ProcessDate,FlagDetail,KodeISIN,NamaSSB ,JenisSSB,KategoriPengukuran,Nominal,Jumlah,GolonganPihakLawan ,GolonganPenerbit,PeringkatPenerbitSSB,LembagaPemeringkat,MataUang,SukuBunga ,Durasi,TanggalJatuhTempo,JenisBunga,CIFNo,NamaPenjual ,CONTRACT,X_M_NB) VALUES (:DealNo,:BranchTransaction,:BranchCompletion,:UserCompletion,:StatusDokumen ,:TransactionDate,:ProcessDate,:FlagDetail,:KodeISIN,:NamaSSB ,:JenisSSB,:KategoriPengukuran,:Nominal,:Jumlah,:GolonganPihakLawan ,:GolonganPenerbit,:PeringkatPenerbitSSB,:LembagaPemeringkat,:MataUang,:SukuBunga ,:Durasi,:TanggalJatuhTempo,:JenisBunga,:CIFNo,:NamaPenjual ,:CONTRACT,:X_M_NB)",INSERT,true,true,SQL_REPLICATE,1,false,,,69e0b26fd420b6bbf9fca74e15f1f61c24e0dd97,HIGH,go1/query.go,121
golang-sample,go1/query.go,query.go,code,go,go,137,137,go1/query.go@L137,"
declare @dtToday varchar(8)
set @dtToday = convert(varchar(8), getdate(), 112)
select
isnull(CAST(
 STUFF((SELECT DISTINCT ',' + ('''' + CAST(NamaSSB AS VARCHAR(500)) + '''')
 FROM mk006_a
   WHERE convert(varchar(8), ProcessDate, 112) = @dtToday
   GROUP BY NamaSSB
   FOR XML PATH (''))
   , 1, 1, '') AS VARCHAR(8000)), '''''')  AS secid
","declare @dtToday varchar(8) set @dtToday = convert(varchar(8), getdate(), 112) select isnull(CAST( STUFF((SELECT DISTINCT ',' + ('''' + CAST(NamaSSB AS VARCHAR(500)) + '''') FROM mk006_a WHERE convert(varchar(8), ProcessDate, 112) = @dtToday GROUP BY NamaSSB FOR XML PATH ('')) , 1, 1, '') AS VARCHAR(8000)), '''''') AS secid",SELECT,false,false,,1,false,,,7f8c1bcbcafd8058df3c7325886d646aab09a30e,LOW,go1/query.go,137
golang-sample,go1/query.go,query.go,code,go,go,150,150,go1/query.go@L150,"
declare @dtToday varchar(8)
set @dtToday = convert(varchar(8),  getdate(), 112)
delete mk006_a_actuate
where convert(varchar(8), ProcessDate, 112) = @dtToday
","declare @dtToday varchar(8) set @dtToday = convert(varchar(8), getdate(), 112) delete mk006_a_actuate where convert(varchar(8), ProcessDate, 112) = @dtToday",DELETE,true,false,,1,false,,,02a5a6a3cb7ccdd2c5b0af63661205fb9c9c1949,MEDIUM,go1/query.go,150
golang-sample,go1/query.go,query.go,code,go,go,157,157,go1/query.go@L157,"
SELECT TRIM(SECID) as SECID, ABS(ROUND(SUM(BOOK_VALUE)/SUM(TDPRINTAMT), 17)) AS AVGPRICE
FROM [[schema]].BOND_JOURNAL a
where TRIM(SECID) IN ([[param]])
and TDPRINTAMT > 0
group by SECID
UNION
select TRIM(SECID) as SECID, ABS(ROUND(AVG(PRICE), 17)) AS AVGPRICE
from [[schema]].BOND_DETAIL where trim(SECID) not in (
select distinct trim(SECID) from [[schema]].BOND_JOURNAL where TDPRINTAMT > 0
)
and TRIM(SECID) IN ([[param]])
group by SECID
","SELECT TRIM(SECID) as SECID, ABS(ROUND(SUM(BOOK_VALUE)/SUM(TDPRINTAMT), 17)) AS AVGPRICE FROM [[schema]].BOND_JOURNAL a where TRIM(SECID) IN ([[param]]) and TDPRINTAMT > 0 group by SECID UNION select TRIM(SECID) as SECID, ABS(ROUND(AVG(PRICE), 17)) AS AVGPRICE from [[schema]].BOND_DETAIL where trim(SECID) not in ( select distinct trim(SECID) from [[schema]].BOND_JOURNAL where TDPRINTAMT > 0 ) and TRIM(SECID) IN ([[param]]) group by SECID",SELECT,false,false,,3,true,,,4fef1d702248e13c3ae0a6184db4516f47931f63,LOW,go1/query.go,157
golang-sample,go1/query.go,query.go,code,go,go,171,171,go1/query.go@L171,"
INSERT INTO [dbo].[mk006_a_actuate] (secid,avg_price,ProcessDate)
SELECT ?,?,?
","INSERT INTO [dbo].[mk006_a_actuate] (secid,avg_price,ProcessDate) SELECT ?,?,?",INSERT,true,false,,1,false,,,1b9b4d6cd9afddcfe3be7e14a760f10cbbdc7d09,MEDIUM,go1/query.go,171
golang-sample,go1/source.go,source.go,code,go,go,24,24,ExecSPMurexMK,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,41,41,ExecuteSPMurexConfoMK,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,51,51,GetMK006AConfo,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,61,61,GetMK006A,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,71,71,GetMurexAvgPrice,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,82,82,GetMK005AConfo,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,93,93,GetMK005A,<dynamic-sql>,<dynamic-sql>,UNKNOWN,false,false,,1,true,db,,829e30d2ed137a41defc3a465e6c3746bc753ccf,LOW,go1/source.go,0
golang-sample,go1/source.go,source.go,code,go,go,112,112,ValidateMKData,[dbo].[MKValidateData] ?,[dbo].[MKValidateData] ?,EXEC,true,false,,1,false,db,,cfac7247a5fa57eb91826f292a7b1996e62814a7,MEDIUM,go1/sp.go,16
golang-sample,go2/impl.go,impl.go,code,go,go,26,26,GetCurrWorkingDate,"
	SELECT TOP 1 current_working_date
	FROM dbo.control_table
",SELECT TOP 1 current_working_date FROM dbo.control_table,SELECT,false,false,,1,false,s.db.ConnRead,,ec48f6a85bebfa68697cbf359591dc7236012989,LOW,go2/query.go,3
golang-sample,go2/impl.go,impl.go,code,go,go,30,30,GetCFCOUN,"
	SELECT DISTINCT TRIM(CFCOUN)
	FROM dbo.CFMAST
	WHERE (CFCIF = ?)
",SELECT DISTINCT TRIM(CFCOUN) FROM dbo.CFMAST WHERE (CFCIF = ?),SELECT,false,false,,1,false,s.db.ConnRead,,e51398b2f9391c84e50b1d6e4bb770e2c99ce9dc,LOW,go2/query.go,8
golang-sample,go2/impl.go,impl.go,code,go,go,34,34,GetBIRates,"
	SELECT CurrencyCode, BIRate
	FROM dbo.SIBSCurrencyTable_TM
	WHERE (PBOId = 500)
","SELECT CurrencyCode, BIRate FROM dbo.SIBSCurrencyTable_TM WHERE (PBOId = 500)",SELECT,false,false,,1,false,s.db.ConnRead,,8ff9f2c779e0acf909f7c4da8ccbd6b65f5f3308,LOW,go2/query.go,14
golang-sample,go2/impl.go,impl.go,code,go,go,52,52,GetValasMappingParameter,"
		SELECT currency, buy_sell_code, product,
		product_category, transaction_limit_flag, transaction_limit_amount,
		monthly_limit_flag, monthly_limit_amount, lcs_flag, rate_currency,
		negara_mitra
		FROM dbo.valas_mapping_parameter
		WHERE  lcs_flag = 1
		AND transaction_limit_flag = 1
	","SELECT currency, buy_sell_code, product, product_category, transaction_limit_flag, transaction_limit_amount, monthly_limit_flag, monthly_limit_amount, lcs_flag, rate_currency, negara_mitra FROM dbo.valas_mapping_parameter WHERE lcs_flag = 1 AND transaction_limit_flag = 1",SELECT,false,false,,1,false,c.db.ConnRead,,e673f0a9d52763876f737e32dede0c55ec92749e,LOW,go2/impl.go,43
golang-sample,go2/impl.go,impl.go,code,go,go,69,69,GetVlsRate,"
		select Period, JPeriod, CurrencyCode, BiRateExchange
		USDRateExchange, JISDORRate, USDRateExcJisdor
		from dbo.VLSRate_TM
		where Period = ?
			","select Period, JPeriod, CurrencyCode, BiRateExchange USDRateExchange, JISDORRate, USDRateExcJisdor from dbo.VLSRate_TM where Period = ?",SELECT,false,false,,1,false,c.db.ConnRead,,5844ac6a2912f2a4fb70ab7e121be2a3a291dc34,LOW,go2/impl.go,61
golang-sample,go2/impl.go,impl.go,code,go,go,87,88,GetVlsTransaction,"
	SELECT src,dealno
		,customer_id,acc_id
		,trx_branch,trx_date
		,trx_datetime,currency_code
		,amount,rate
		,InUSD,SourceKey
		,JISDORRate,InUSDJISDOR
		,m_pl_key,NIKAgent
		,GuidProcess,m_pl_key1
		,lcs_flag,buy_sell_code
		,product,in_usd_before
		,in_usd_total
	FROM dbo.VLSTransactions_TR
	WHERE dealno IN (?)
","SELECT src,dealno ,customer_id,acc_id ,trx_branch,trx_date ,trx_datetime,currency_code ,amount,rate ,InUSD,SourceKey ,JISDORRate,InUSDJISDOR ,m_pl_key,NIKAgent ,GuidProcess,m_pl_key1 ,lcs_flag,buy_sell_code ,product,in_usd_before ,in_usd_total FROM dbo.VLSTransactions_TR WHERE dealno IN (?)",SELECT,false,false,,1,false,c.db.ConnRead,,8f14f4ac358dcccf4763c1b2a94b4787ebd724dd,LOW,go2/query.go,20
golang-sample,go2/impl.go,impl.go,code,go,go,97,98,GetVlsTransaction,"
	SELECT src,dealno
		,customer_id,acc_id
		,trx_branch,trx_date
		,trx_datetime,currency_code
		,amount,rate
		,InUSD,SourceKey
		,JISDORRate,InUSDJISDOR
		,m_pl_key,NIKAgent
		,GuidProcess,m_pl_key1
		,lcs_flag,buy_sell_code
		,product,in_usd_before
		,in_usd_total
	FROM dbo.VLSTransactionsToday_TR
	WHERE dealno IN (?)
","SELECT src,dealno ,customer_id,acc_id ,trx_branch,trx_date ,trx_datetime,currency_code ,amount,rate ,InUSD,SourceKey ,JISDORRate,InUSDJISDOR ,m_pl_key,NIKAgent ,GuidProcess,m_pl_key1 ,lcs_flag,buy_sell_code ,product,in_usd_before ,in_usd_total FROM dbo.VLSTransactionsToday_TR WHERE dealno IN (?)",SELECT,false,false,,1,false,c.db.ConnRead,,15812541241712f68d875099dfea8528a3b6d2d9,LOW,go2/query.go,36
golang-sample,go2/query.go,query.go,code,go,go,3,3,go2/query.go@L3,"
	SELECT TOP 1 current_working_date
	FROM dbo.control_table
",SELECT TOP 1 current_working_date FROM dbo.control_table,SELECT,false,false,,1,false,,,ec48f6a85bebfa68697cbf359591dc7236012989,LOW,go2/query.go,3
golang-sample,go2/query.go,query.go,code,go,go,8,8,go2/query.go@L8,"
	SELECT DISTINCT TRIM(CFCOUN)
	FROM dbo.CFMAST
	WHERE (CFCIF = ?)
",SELECT DISTINCT TRIM(CFCOUN) FROM dbo.CFMAST WHERE (CFCIF = ?),SELECT,false,false,,1,false,,,e51398b2f9391c84e50b1d6e4bb770e2c99ce9dc,LOW,go2/query.go,8
golang-sample,go2/query.go,query.go,code,go,go,14,14,go2/query.go@L14,"
	SELECT CurrencyCode, BIRate
	FROM dbo.SIBSCurrencyTable_TM
	WHERE (PBOId = 500)
","SELECT CurrencyCode, BIRate FROM dbo.SIBSCurrencyTable_TM WHERE (PBOId = 500)",SELECT,false,false,,1,false,,,8ff9f2c779e0acf909f7c4da8ccbd6b65f5f3308,LOW,go2/query.go,14
golang-sample,go2/query.go,query.go,code,go,go,20,20,go2/query.go@L20,"
	SELECT src,dealno
		,customer_id,acc_id
		,trx_branch,trx_date
		,trx_datetime,currency_code
		,amount,rate
		,InUSD,SourceKey
		,JISDORRate,InUSDJISDOR
		,m_pl_key,NIKAgent
		,GuidProcess,m_pl_key1
		,lcs_flag,buy_sell_code
		,product,in_usd_before
		,in_usd_total
	FROM dbo.VLSTransactions_TR
	WHERE dealno IN (?)
","SELECT src,dealno ,customer_id,acc_id ,trx_branch,trx_date ,trx_datetime,currency_code ,amount,rate ,InUSD,SourceKey ,JISDORRate,InUSDJISDOR ,m_pl_key,NIKAgent ,GuidProcess,m_pl_key1 ,lcs_flag,buy_sell_code ,product,in_usd_before ,in_usd_total FROM dbo.VLSTransactions_TR WHERE dealno IN (?)",SELECT,false,false,,1,false,,,8f14f4ac358dcccf4763c1b2a94b4787ebd724dd,LOW,go2/query.go,20
golang-sample,go2/query.go,query.go,code,go,go,36,36,go2/query.go@L36,"
	SELECT src,dealno
		,customer_id,acc_id
		,trx_branch,trx_date
		,trx_datetime,currency_code
		,amount,rate
		,InUSD,SourceKey
		,JISDORRate,InUSDJISDOR
		,m_pl_key,NIKAgent
		,GuidProcess,m_pl_key1
		,lcs_flag,buy_sell_code
		,product,in_usd_before
		,in_usd_total
	FROM dbo.VLSTransactionsToday_TR
	WHERE dealno IN (?)
","SELECT src,dealno ,customer_id,acc_id ,trx_branch,trx_date ,trx_datetime,currency_code ,amount,rate ,InUSD,SourceKey ,JISDORRate,InUSDJISDOR ,m_pl_key,NIKAgent ,GuidProcess,m_pl_key1 ,lcs_flag,buy_sell_code ,product,in_usd_before ,in_usd_total FROM dbo.VLSTransactionsToday_TR WHERE dealno IN (?)",SELECT,false,false,,1,false,,,15812541241712f68d875099dfea8528a3b6d2d9,LOW,go2/query.go,36
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,13,13,go3/aajiQueries.sql.go@L13,"-- name: PopulateDataFromBancaNoAAUITMAndBancaNoAAUITM :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload 
from BancaNoAAJI_TM aj
left join BancaNoAAUI_TM au
on aj.NIK = au.NIK
WHERE  aj.NIK = @p1 OR @p2 IN ('D')
		and 
		(
			(aj.DateUpload  >= convert(varchar,@p3,112) 
				and aj.DateUpload < dateadd(dd,1,@p4)  )
			OR @p2 IN ('N') 
		)
UNION ALL
select au.NIK, au.Nama, au.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload 
from BancaNoAAUI_TM au
left join BancaNoAAJI_TM aj
on aj.NIK = au.NIK
where aj.NIK is null
	AND  au.NIK = @p1 OR @p2 IN ('D')
		and 
		(
			(au.DateUpload  >= convert(varchar,@p3,112) 
				and au.DateUpload < dateadd(dd,1,@p4)  )
			OR @p2 IN ('N') 
		)
","name: PopulateDataFromBancaNoAAUITMAndBancaNoAAUITM :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj left join BancaNoAAUI_TM au on aj.NIK = au.NIK WHERE aj.NIK = @p1 OR @p2 IN ('D') and ( (aj.DateUpload >= convert(varchar,@p3,112) and aj.DateUpload < dateadd(dd,1,@p4) ) OR @p2 IN ('N') ) UNION ALL select au.NIK, au.Nama, au.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload from BancaNoAAUI_TM au left join BancaNoAAJI_TM aj on aj.NIK = au.NIK where aj.NIK is null AND au.NIK = @p1 OR @p2 IN ('D') and ( (au.DateUpload >= convert(varchar,@p3,112) and au.DateUpload < dateadd(dd,1,@p4) ) OR @p2 IN ('N') )",SELECT,false,false,,2,false,,,af24be39b2358d5655a9e53c656595fd462e06b0,LOW,go3/aajiQueries.sql.go,13
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,60,65,PopulateDataFromBancaNoAAUITMAndBancaNoAAUITM,"-- name: PopulateDataFromBancaNoAAUITMAndBancaNoAAUITM :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload 
from BancaNoAAJI_TM aj
left join BancaNoAAUI_TM au
on aj.NIK = au.NIK
WHERE  aj.NIK = @p1 OR @p2 IN ('D')
		and 
		(
			(aj.DateUpload  >= convert(varchar,@p3,112) 
				and aj.DateUpload < dateadd(dd,1,@p4)  )
			OR @p2 IN ('N') 
		)
UNION ALL
select au.NIK, au.Nama, au.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload 
from BancaNoAAUI_TM au
left join BancaNoAAJI_TM aj
on aj.NIK = au.NIK
where aj.NIK is null
	AND  au.NIK = @p1 OR @p2 IN ('D')
		and 
		(
			(au.DateUpload  >= convert(varchar,@p3,112) 
				and au.DateUpload < dateadd(dd,1,@p4)  )
			OR @p2 IN ('N') 
		)
","name: PopulateDataFromBancaNoAAUITMAndBancaNoAAUITM :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj left join BancaNoAAUI_TM au on aj.NIK = au.NIK WHERE aj.NIK = @p1 OR @p2 IN ('D') and ( (aj.DateUpload >= convert(varchar,@p3,112) and aj.DateUpload < dateadd(dd,1,@p4) ) OR @p2 IN ('N') ) UNION ALL select au.NIK, au.Nama, au.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload from BancaNoAAUI_TM au left join BancaNoAAJI_TM aj on aj.NIK = au.NIK where aj.NIK is null AND au.NIK = @p1 OR @p2 IN ('D') and ( (au.DateUpload >= convert(varchar,@p3,112) and au.DateUpload < dateadd(dd,1,@p4) ) OR @p2 IN ('N') )",SELECT,false,false,,2,false,ctx,,af24be39b2358d5655a9e53c656595fd462e06b0,LOW,go3/aajiQueries.sql.go,13
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,97,97,go3/aajiQueries.sql.go@L97,"-- name: GetDataFromAAJITM :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, 
(
    select top 1 au.AAUI from BancaNoAAUI_TM au where au.NIK = aj.NIK
	order by au.DateUpload desc
) as AAUI,
(
    select top 1 au.DateExpire from BancaNoAAUI_TM au where au.NIK = aj.NIK
	order by au.DateUpload desc
) as DateExpireAAUI, aj.DateUpload, aj.NIKUpload 
from BancaNoAAJI_TM aj order by NIK desc
","name: GetDataFromAAJITM :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, ( select top 1 au.AAUI from BancaNoAAUI_TM au where au.NIK = aj.NIK order by au.DateUpload desc ) as AAUI, ( select top 1 au.DateExpire from BancaNoAAUI_TM au where au.NIK = aj.NIK order by au.DateUpload desc ) as DateExpireAAUI, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj order by NIK desc",SELECT,false,false,,2,false,,,fffe0c107043eecbf2b928472b88ea4f5b7f7634,LOW,go3/aajiQueries.sql.go,97
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,123,123,GetDataFromAAJITM,"-- name: GetDataFromAAJITM :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, 
(
    select top 1 au.AAUI from BancaNoAAUI_TM au where au.NIK = aj.NIK
	order by au.DateUpload desc
) as AAUI,
(
    select top 1 au.DateExpire from BancaNoAAUI_TM au where au.NIK = aj.NIK
	order by au.DateUpload desc
) as DateExpireAAUI, aj.DateUpload, aj.NIKUpload 
from BancaNoAAJI_TM aj order by NIK desc
","name: GetDataFromAAJITM :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, ( select top 1 au.AAUI from BancaNoAAUI_TM au where au.NIK = aj.NIK order by au.DateUpload desc ) as AAUI, ( select top 1 au.DateExpire from BancaNoAAUI_TM au where au.NIK = aj.NIK order by au.DateUpload desc ) as DateExpireAAUI, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj order by NIK desc",SELECT,false,false,,2,false,ctx,,fffe0c107043eecbf2b928472b88ea4f5b7f7634,LOW,go3/aajiQueries.sql.go,97
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,155,155,go3/aajiQueries.sql.go@L155,"-- name: GetDataFromAAUITM :many
select au.NIK, au.Nama, au.JobTitle,
( 
    select top 1 aj.AAJI from BancaNoAAJI_TM aj where aj.NIK = au.NIK 
	order by aj.DateUpload desc
) as AAJI, 
(
    select top 1 aj.DateExpire from BancaNoAAJI_TM aj where aj.NIK = au.NIK 
	order by aj.DateUpload desc
) as DateExpireAAJI, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload 
from BancaNoAAUI_TM au left join BancaNoAAJI_TM aj
on aj.NIK = au.NIK
where aj.NIK is null
","name: GetDataFromAAUITM :many select au.NIK, au.Nama, au.JobTitle, ( select top 1 aj.AAJI from BancaNoAAJI_TM aj where aj.NIK = au.NIK order by aj.DateUpload desc ) as AAJI, ( select top 1 aj.DateExpire from BancaNoAAJI_TM aj where aj.NIK = au.NIK order by aj.DateUpload desc ) as DateExpireAAJI, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload from BancaNoAAUI_TM au left join BancaNoAAJI_TM aj on aj.NIK = au.NIK where aj.NIK is null",SELECT,false,false,,2,false,,,aedfa22d7ebf9b01ce283d4f6b34f33903ce0454,LOW,go3/aajiQueries.sql.go,155
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,183,183,GetDataFromAAUITM,"-- name: GetDataFromAAUITM :many
select au.NIK, au.Nama, au.JobTitle,
( 
    select top 1 aj.AAJI from BancaNoAAJI_TM aj where aj.NIK = au.NIK 
	order by aj.DateUpload desc
) as AAJI, 
(
    select top 1 aj.DateExpire from BancaNoAAJI_TM aj where aj.NIK = au.NIK 
	order by aj.DateUpload desc
) as DateExpireAAJI, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload 
from BancaNoAAUI_TM au left join BancaNoAAJI_TM aj
on aj.NIK = au.NIK
where aj.NIK is null
","name: GetDataFromAAUITM :many select au.NIK, au.Nama, au.JobTitle, ( select top 1 aj.AAJI from BancaNoAAJI_TM aj where aj.NIK = au.NIK order by aj.DateUpload desc ) as AAJI, ( select top 1 aj.DateExpire from BancaNoAAJI_TM aj where aj.NIK = au.NIK order by aj.DateUpload desc ) as DateExpireAAJI, au.AAUI, au.DateExpire, au.DateUpload, au.NIKUpload from BancaNoAAUI_TM au left join BancaNoAAJI_TM aj on aj.NIK = au.NIK where aj.NIK is null",SELECT,false,false,,2,false,ctx,,aedfa22d7ebf9b01ce283d4f6b34f33903ce0454,LOW,go3/aajiQueries.sql.go,155
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,215,215,go3/aajiQueries.sql.go@L215,"-- name: DeleteBatchIdFromBancaMTranAAJIAAUITT :exec
delete from BancaMTranAAJIAAUI_TT where BatchId = @p1
",name: DeleteBatchIdFromBancaMTranAAJIAAUITT :exec delete from BancaMTranAAJIAAUI_TT where BatchId = @p1,DELETE,true,false,,2,false,,,ceafdd8fac191647664f3f1cb11b3a99c47a2380,MEDIUM,go3/aajiQueries.sql.go,215
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,220,220,DeleteBatchIdFromBancaMTranAAJIAAUITT,"-- name: DeleteBatchIdFromBancaMTranAAJIAAUITT :exec
delete from BancaMTranAAJIAAUI_TT where BatchId = @p1
",name: DeleteBatchIdFromBancaMTranAAJIAAUITT :exec delete from BancaMTranAAJIAAUI_TT where BatchId = @p1,DELETE,true,false,,2,false,ctx,,ceafdd8fac191647664f3f1cb11b3a99c47a2380,MEDIUM,go3/aajiQueries.sql.go,215
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,224,224,go3/aajiQueries.sql.go@L224,"-- name: CheckNIKIfNotRegisterOnPeopleSoftFromPSEmployeev :many
select EMPLID from PSEmployee_v where EMPLID = @p1
",name: CheckNIKIfNotRegisterOnPeopleSoftFromPSEmployeev :many select EMPLID from PSEmployee_v where EMPLID = @p1,SELECT,false,false,,1,false,,,068016972b003490256207e04eeb8daf633b877e,LOW,go3/aajiQueries.sql.go,224
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,229,229,CheckNIKIfNotRegisterOnPeopleSoftFromPSEmployeev,"-- name: CheckNIKIfNotRegisterOnPeopleSoftFromPSEmployeev :many
select EMPLID from PSEmployee_v where EMPLID = @p1
",name: CheckNIKIfNotRegisterOnPeopleSoftFromPSEmployeev :many select EMPLID from PSEmployee_v where EMPLID = @p1,SELECT,false,false,,1,false,ctx,,068016972b003490256207e04eeb8daf633b877e,LOW,go3/aajiQueries.sql.go,224
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,251,251,go3/aajiQueries.sql.go@L251,"-- name: CheckNIKIsRegisterFromBancaNoAAJITM :many
SELECT NIK from BancaNoAAUI_TM where NIK = @p1
",name: CheckNIKIsRegisterFromBancaNoAAJITM :many SELECT NIK from BancaNoAAUI_TM where NIK = @p1,SELECT,false,false,,1,false,,,8cdef04cf910118f075495223c8bfa8d31394947,LOW,go3/aajiQueries.sql.go,251
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,256,256,CheckNIKIsRegisterFromBancaNoAAJITM,"-- name: CheckNIKIsRegisterFromBancaNoAAJITM :many
SELECT NIK from BancaNoAAUI_TM where NIK = @p1
",name: CheckNIKIsRegisterFromBancaNoAAJITM :many SELECT NIK from BancaNoAAUI_TM where NIK = @p1,SELECT,false,false,,1,false,ctx,,8cdef04cf910118f075495223c8bfa8d31394947,LOW,go3/aajiQueries.sql.go,251
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,278,278,go3/aajiQueries.sql.go@L278,"-- name: CheckTransactionIsExistByNIKANDStatusFromBancaMTranAAJIAAUITT :many
select NIKSeller from BancaMTranAAJIAAUI_TT where NIKSeller = @p1 and Status = 0
",name: CheckTransactionIsExistByNIKANDStatusFromBancaMTranAAJIAAUITT :many select NIKSeller from BancaMTranAAJIAAUI_TT where NIKSeller = @p1 and Status = 0,SELECT,false,false,,1,false,,,5b6bfd0f46c731000b766aa4e863c672eaf4ffb7,LOW,go3/aajiQueries.sql.go,278
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,283,283,CheckTransactionIsExistByNIKANDStatusFromBancaMTranAAJIAAUITT,"-- name: CheckTransactionIsExistByNIKANDStatusFromBancaMTranAAJIAAUITT :many
select NIKSeller from BancaMTranAAJIAAUI_TT where NIKSeller = @p1 and Status = 0
",name: CheckTransactionIsExistByNIKANDStatusFromBancaMTranAAJIAAUITT :many select NIKSeller from BancaMTranAAJIAAUI_TT where NIKSeller = @p1 and Status = 0,SELECT,false,false,,1,false,ctx,,5b6bfd0f46c731000b766aa4e863c672eaf4ffb7,LOW,go3/aajiQueries.sql.go,278
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,305,305,go3/aajiQueries.sql.go@L305,"-- name: GetAAJIFromBancaMTranAAJIAAUITTByNIKANDStatus :many
select NIKSeller from BancaMTranAAJIAAUI_TT where AAJI = @p1 and NIKSeller != @p2 and Status = 0
",name: GetAAJIFromBancaMTranAAJIAAUITTByNIKANDStatus :many select NIKSeller from BancaMTranAAJIAAUI_TT where AAJI = @p1 and NIKSeller != @p2 and Status = 0,SELECT,false,false,,1,false,,,7dbca4022dff42cef7e43e6790e7df3704ea1da5,LOW,go3/aajiQueries.sql.go,305
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,315,315,GetAAJIFromBancaMTranAAJIAAUITTByNIKANDStatus,"-- name: GetAAJIFromBancaMTranAAJIAAUITTByNIKANDStatus :many
select NIKSeller from BancaMTranAAJIAAUI_TT where AAJI = @p1 and NIKSeller != @p2 and Status = 0
",name: GetAAJIFromBancaMTranAAJIAAUITTByNIKANDStatus :many select NIKSeller from BancaMTranAAJIAAUI_TT where AAJI = @p1 and NIKSeller != @p2 and Status = 0,SELECT,false,false,,1,false,ctx,,7dbca4022dff42cef7e43e6790e7df3704ea1da5,LOW,go3/aajiQueries.sql.go,305
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,337,337,go3/aajiQueries.sql.go@L337,"-- name: GetAAUIFromBancaMTranAAJIAAUITTByNIKANDStatus :many
select NIKSeller from BancaMTranAAJIAAUI_TT where AAUI = @p1 and NIKSeller != @p2 and Status = 0
",name: GetAAUIFromBancaMTranAAJIAAUITTByNIKANDStatus :many select NIKSeller from BancaMTranAAJIAAUI_TT where AAUI = @p1 and NIKSeller != @p2 and Status = 0,SELECT,false,false,,1,false,,,508d3e8d78cfd79d1566bf15163902cb931b6f70,LOW,go3/aajiQueries.sql.go,337
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,347,347,GetAAUIFromBancaMTranAAJIAAUITTByNIKANDStatus,"-- name: GetAAUIFromBancaMTranAAJIAAUITTByNIKANDStatus :many
select NIKSeller from BancaMTranAAJIAAUI_TT where AAUI = @p1 and NIKSeller != @p2 and Status = 0
",name: GetAAUIFromBancaMTranAAJIAAUITTByNIKANDStatus :many select NIKSeller from BancaMTranAAJIAAUI_TT where AAUI = @p1 and NIKSeller != @p2 and Status = 0,SELECT,false,false,,1,false,ctx,,508d3e8d78cfd79d1566bf15163902cb931b6f70,LOW,go3/aajiQueries.sql.go,337
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,369,369,go3/aajiQueries.sql.go@L369,"-- name: GetBancaNoAAJITMByDate :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj
left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2
order by  aj.NIK
","name: GetBancaNoAAJITMByDate :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2 order by aj.NIK",SELECT,false,false,,2,false,,,6af35bff2359612926498b19d1b70f5910452ce6,LOW,go3/aajiQueries.sql.go,369
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,393,393,GetBancaNoAAJITMByDate,"-- name: GetBancaNoAAJITMByDate :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj
left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2
order by  aj.NIK
","name: GetBancaNoAAJITMByDate :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2 order by aj.NIK",SELECT,false,false,,2,false,ctx,,6af35bff2359612926498b19d1b70f5910452ce6,LOW,go3/aajiQueries.sql.go,369
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,425,425,go3/aajiQueries.sql.go@L425,"-- name: GetBancaNoAAJITMByNIKDate :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj
left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2 and aj.NIK = @p3
order by aj.NIK
","name: GetBancaNoAAJITMByNIKDate :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2 and aj.NIK = @p3 order by aj.NIK",SELECT,false,false,,2,false,,,f24805c3398afc83f3a1d5270305e1bbb269601d,LOW,go3/aajiQueries.sql.go,425
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,450,450,GetBancaNoAAJITMByNIKDate,"-- name: GetBancaNoAAJITMByNIKDate :many
select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj
left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2 and aj.NIK = @p3
order by aj.NIK
","name: GetBancaNoAAJITMByNIKDate :many select aj.NIK, aj.Nama, aj.JobTitle, aj.AAJI, aj.DateExpire, au.AAUI, au.DateExpire, aj.DateUpload, aj.NIKUpload from BancaNoAAJI_TM aj left join BancaNoAAUI_TM au ON aj.NIK = au.NIK where aj.DateUpload >= @p1 and aj.DateUpload <= @p2 and aj.NIK = @p3 order by aj.NIK",SELECT,false,false,,2,false,ctx,,f24805c3398afc83f3a1d5270305e1bbb269601d,LOW,go3/aajiQueries.sql.go,425
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,482,482,go3/aajiQueries.sql.go@L482,"-- name: GetLastInsertedBatchId :one
SELECT cast(max(BatchId) as int) as BatchId FROM BancaMTranAAJIAAUI_TT
",name: GetLastInsertedBatchId :one SELECT cast(max(BatchId) as int) as BatchId FROM BancaMTranAAJIAAUI_TT,EXEC,true,false,,1,false,,,4d094d02e81a7a8d026b494e3dd1f7da73f05540,MEDIUM,go3/aajiQueries.sql.go,482
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,487,487,GetLastInsertedBatchId,"-- name: GetLastInsertedBatchId :one
SELECT cast(max(BatchId) as int) as BatchId FROM BancaMTranAAJIAAUI_TT
",name: GetLastInsertedBatchId :one SELECT cast(max(BatchId) as int) as BatchId FROM BancaMTranAAJIAAUI_TT,EXEC,true,false,,1,false,ctx,,4d094d02e81a7a8d026b494e3dd1f7da73f05540,MEDIUM,go3/aajiQueries.sql.go,482
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,493,493,go3/aajiQueries.sql.go@L493,"-- name: GetNIKFromBancaNoAAJITMByAAUIANDNIK :many
select au.NIK from BancaNoAAUI_TM au where au.AAUI = @p1 and au.NIK != @p2
",name: GetNIKFromBancaNoAAJITMByAAUIANDNIK :many select au.NIK from BancaNoAAUI_TM au where au.AAUI = @p1 and au.NIK != @p2,SELECT,false,false,,1,false,,,4222816d1a91462945489509df0537b0df905e83,LOW,go3/aajiQueries.sql.go,493
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,503,503,GetNIKFromBancaNoAAJITMByAAUIANDNIK,"-- name: GetNIKFromBancaNoAAJITMByAAUIANDNIK :many
select au.NIK from BancaNoAAUI_TM au where au.AAUI = @p1 and au.NIK != @p2
",name: GetNIKFromBancaNoAAJITMByAAUIANDNIK :many select au.NIK from BancaNoAAUI_TM au where au.AAUI = @p1 and au.NIK != @p2,SELECT,false,false,,1,false,ctx,,4222816d1a91462945489509df0537b0df905e83,LOW,go3/aajiQueries.sql.go,493
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,525,525,go3/aajiQueries.sql.go@L525,"-- name: GetNIKFromBancaNoAAUITMByAAJIANDNIK :many
select aj.NIK from BancaNoAAJI_TM aj where aj.AAJI = @p1 and aj.NIK != @p2
",name: GetNIKFromBancaNoAAUITMByAAJIANDNIK :many select aj.NIK from BancaNoAAJI_TM aj where aj.AAJI = @p1 and aj.NIK != @p2,SELECT,false,false,,1,false,,,963cac15cbe5a46500fea2618ee1b59ad50846f0,LOW,go3/aajiQueries.sql.go,525
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,535,535,GetNIKFromBancaNoAAUITMByAAJIANDNIK,"-- name: GetNIKFromBancaNoAAUITMByAAJIANDNIK :many
select aj.NIK from BancaNoAAJI_TM aj where aj.AAJI = @p1 and aj.NIK != @p2
",name: GetNIKFromBancaNoAAUITMByAAJIANDNIK :many select aj.NIK from BancaNoAAJI_TM aj where aj.AAJI = @p1 and aj.NIK != @p2,SELECT,false,false,,1,false,ctx,,963cac15cbe5a46500fea2618ee1b59ad50846f0,LOW,go3/aajiQueries.sql.go,525
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,557,557,go3/aajiQueries.sql.go@L557,"-- name: GetNameAndJobTitleByNIK :many
select NAME, JOBTITLE from SQL_Employee.dbo.PSEmployee_v where EMPLID = @p1 AND EMPL_RCD = 0
","name: GetNameAndJobTitleByNIK :many select NAME, JOBTITLE from SQL_Employee.dbo.PSEmployee_v where EMPLID = @p1 AND EMPL_RCD = 0",SELECT,false,true,SQL_Employee,1,false,,,f4231e9d7bd253c60137a32c45c1af1d94dc633e,LOW,go3/aajiQueries.sql.go,557
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,567,567,GetNameAndJobTitleByNIK,"-- name: GetNameAndJobTitleByNIK :many
select NAME, JOBTITLE from SQL_Employee.dbo.PSEmployee_v where EMPLID = @p1 AND EMPL_RCD = 0
","name: GetNameAndJobTitleByNIK :many select NAME, JOBTITLE from SQL_Employee.dbo.PSEmployee_v where EMPLID = @p1 AND EMPL_RCD = 0",SELECT,false,true,SQL_Employee,1,false,ctx,,f4231e9d7bd253c60137a32c45c1af1d94dc633e,LOW,go3/aajiQueries.sql.go,557
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,589,589,go3/aajiQueries.sql.go@L589,"-- name: InsertBancaMTranAAJIAAUITT :exec
insert into BancaMTranAAJIAAUI_TT (NIKSeller, InputDate, AAJI, AAJIExpireDate, AAUI, AAUIExpireDate, NIKInputer, Status, ActionType, DeletedXML)    
select @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0, @p8, @p9
","name: InsertBancaMTranAAJIAAUITT :exec insert into BancaMTranAAJIAAUI_TT (NIKSeller, InputDate, AAJI, AAJIExpireDate, AAUI, AAUIExpireDate, NIKInputer, Status, ActionType, DeletedXML) select @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0, @p8, @p9",EXEC,true,false,,2,false,,,626d39d78607d868e1af857be69066e9b360e50f,MEDIUM,go3/aajiQueries.sql.go,589
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,607,617,InsertBancaMTranAAJIAAUITT,"-- name: InsertBancaMTranAAJIAAUITT :exec
insert into BancaMTranAAJIAAUI_TT (NIKSeller, InputDate, AAJI, AAJIExpireDate, AAUI, AAUIExpireDate, NIKInputer, Status, ActionType, DeletedXML)    
select @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0, @p8, @p9
","name: InsertBancaMTranAAJIAAUITT :exec insert into BancaMTranAAJIAAUI_TT (NIKSeller, InputDate, AAJI, AAJIExpireDate, AAUI, AAUIExpireDate, NIKInputer, Status, ActionType, DeletedXML) select @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0, @p8, @p9",EXEC,true,false,,2,false,ctx,,626d39d78607d868e1af857be69066e9b360e50f,MEDIUM,go3/aajiQueries.sql.go,589
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,621,621,go3/aajiQueries.sql.go@L621,"-- name: UpdateBatchCode :exec
UPDATE BancaMTranAAJIAAUI_TT
SET BatchCode = 'M' + cast (BatchId as varchar(50)) where BatchId = @p1
",name: UpdateBatchCode :exec UPDATE BancaMTranAAJIAAUI_TT SET BatchCode = 'M' + cast (BatchId as varchar(50)) where BatchId = @p1,UPDATE,true,false,,2,false,,,dd37a0df93a13f5ba9bc9dd79da99ab8b01d52bf,MEDIUM,go3/aajiQueries.sql.go,621
golang-sample,go3/aajiQueries.sql.go,aajiQueries.sql.go,code,go,go,627,627,UpdateBatchCode,"-- name: UpdateBatchCode :exec
UPDATE BancaMTranAAJIAAUI_TT
SET BatchCode = 'M' + cast (BatchId as varchar(50)) where BatchId = @p1
",name: UpdateBatchCode :exec UPDATE BancaMTranAAJIAAUI_TT SET BatchCode = 'M' + cast (BatchId as varchar(50)) where BatchId = @p1,UPDATE,true,false,,2,false,ctx,,dd37a0df93a13f5ba9bc9dd79da99ab8b01d52bf,MEDIUM,go3/aajiQueries.sql.go,621
golang-sample,go3/bancaQueries_manual.sql.go,bancaQueries_manual.sql.go,code,go,go,13,13,go3/bancaQueries_manual.sql.go@L13,"-- name: InsertDeleteTT :one
DECLARE @InsertedData TABLE (BatchId int
		, Jenis tinyint
		, UserInput int
		, UserOtor int
		, DateOtor datetime
		, StatusOtor tinyint
		, ActionType varchar(10)
		);

INSERT INTO BancaDelete_TT
	(Jenis, UserInput, StatusOtor, ActionType)
OUTPUT inserted.BatchId, inserted.Jenis
		, inserted.UserInput, inserted.UserOtor
		, inserted.DateOtor, inserted.StatusOtor 
		, inserted.ActionType
			INTO @InsertedData
VALUES(@p1, @p2, @p3, @p4)

SELECT BatchId, Jenis, UserInput
		, UserOtor, DateOtor, StatusOtor,ActionType
FROM @InsertedData;
","name: InsertDeleteTT :one DECLARE @InsertedData TABLE (BatchId int , Jenis tinyint , UserInput int , UserOtor int , DateOtor datetime , StatusOtor tinyint , ActionType varchar(10) ); INSERT INTO BancaDelete_TT (Jenis, UserInput, StatusOtor, ActionType) OUTPUT inserted.BatchId, inserted.Jenis , inserted.UserInput, inserted.UserOtor , inserted.DateOtor, inserted.StatusOtor , inserted.ActionType INTO @InsertedData VALUES(@p1, @p2, @p3, @p4) SELECT BatchId, Jenis, UserInput , UserOtor, DateOtor, StatusOtor,ActionType FROM @InsertedData;",INSERT,true,false,,11,false,,,2b704f3a9a1bbcb3172805cc8220125ebe4cffda,MEDIUM,go3/bancaQueries_manual.sql.go,13
golang-sample,go3/bancaQueries_manual.sql.go,bancaQueries_manual.sql.go,code,go,go,45,50,InsertDeleteTT,"-- name: InsertDeleteTT :one
DECLARE @InsertedData TABLE (BatchId int
		, Jenis tinyint
		, UserInput int
		, UserOtor int
		, DateOtor datetime
		, StatusOtor tinyint
		, ActionType varchar(10)
		);

INSERT INTO BancaDelete_TT
	(Jenis, UserInput, StatusOtor, ActionType)
OUTPUT inserted.BatchId, inserted.Jenis
		, inserted.UserInput, inserted.UserOtor
		, inserted.DateOtor, inserted.StatusOtor 
		, inserted.ActionType
			INTO @InsertedData
VALUES(@p1, @p2, @p3, @p4)

SELECT BatchId, Jenis, UserInput
		, UserOtor, DateOtor, StatusOtor,ActionType
FROM @InsertedData;
","name: InsertDeleteTT :one DECLARE @InsertedData TABLE (BatchId int , Jenis tinyint , UserInput int , UserOtor int , DateOtor datetime , StatusOtor tinyint , ActionType varchar(10) ); INSERT INTO BancaDelete_TT (Jenis, UserInput, StatusOtor, ActionType) OUTPUT inserted.BatchId, inserted.Jenis , inserted.UserInput, inserted.UserOtor , inserted.DateOtor, inserted.StatusOtor , inserted.ActionType INTO @InsertedData VALUES(@p1, @p2, @p3, @p4) SELECT BatchId, Jenis, UserInput , UserOtor, DateOtor, StatusOtor,ActionType FROM @InsertedData;",INSERT,true,false,,11,false,ctx,,2b704f3a9a1bbcb3172805cc8220125ebe4cffda,MEDIUM,go3/bancaQueries_manual.sql.go,13
golang-sample,go3/bancaQueries_manual.sql.go,bancaQueries_manual.sql.go,code,go,go,64,64,go3/bancaQueries_manual.sql.go@L64,"-- name: GetBancaControlTableTM :one
	DECLARE  @outPreviousDate			smalldatetime
			,@outCurrentDate			smalldatetime
			,@outNextDate				smalldatetime
			,@outBeginOfDay				bit
			,@outEndOfDay				bit
			,@outLastBatchId			bigint
			,@outBatchProcessBit		bit
			,@outGNCAccountNoIDR		varchar(20)
			,@outGLAccountFeeAccruedIDR	varchar(20)
			,@outGLOwnerFee				varchar(20)
			,@outOwnerBranch			int
			,@outGNCPerantaraTravelex	varchar(20)
			,@outIsAAJIMandatory		bit
			,@outIsAAUIMandatory		bit
			,@outOnOffBancaGW			bit
			,@outOnOffBMWGLOLLog		bit
			,@outGLFeeValas				varchar(20)
			,@outGLFeeValasBranch		varchar(20)

	UPDATE BancaControlTable_TM  
	SET		@outPreviousDate			= PreviousDate			
		,@outCurrentDate				= CurrentDate			
		,@outNextDate				= NextDate				
		,@outBeginOfDay				= BeginOfDay				
		,@outEndOfDay				= EndOfDay				
		,@outLastBatchId				= LastBatchId			
		,@outBatchProcessBit			= BatchProcessBit		
		,@outGNCAccountNoIDR			= GNCAccountNoIDR		
		,@outGLAccountFeeAccruedIDR	= GLAccountFeeAccruedIDR	
		,@outGLOwnerFee				= GLOwnerFee				
		,@outOwnerBranch				= OwnerBranch			
		,@outGNCPerantaraTravelex	= GNCPerantaraTravelex	
		,@outIsAAJIMandatory			= IsAAJIMandatory		
		,@outIsAAUIMandatory			= IsAAUIMandatory		
		,@outOnOffBancaGW			= OnOffBancaGW			
		,@outOnOffBMWGLOLLog			= OnOffBMWGLOLLog		
		,@outGLFeeValas				= GLFeeValas				
		,@outGLFeeValasBranch		= GLFeeValasBranch	
		,LastBatchId					= LastBatchId +1


	SELECT  @outPreviousDate			AS PreviousDate			
		,@outCurrentDate				AS CurrentDate			
		,@outNextDate				AS NextDate				
		,@outBeginOfDay				AS BeginOfDay				
		,@outEndOfDay				AS EndOfDay				
		,@outLastBatchId				AS LastBatchId			
		,@outBatchProcessBit			AS BatchProcessBit		
		,@outGNCAccountNoIDR			AS GNCAccountNoIDR		
		,@outGLAccountFeeAccruedIDR	AS GLAccountFeeAccruedIDR	
		,@outGLOwnerFee				AS GLOwnerFee				
		,@outOwnerBranch				AS OwnerBranch			
		,@outGNCPerantaraTravelex	AS GNCPerantaraTravelex	
		,@outIsAAJIMandatory			AS IsAAJIMandatory		
		,@outIsAAUIMandatory			AS IsAAUIMandatory		
		,@outOnOffBancaGW			AS OnOffBancaGW			
		,@outOnOffBMWGLOLLog			AS OnOffBMWGLOLLog		
		,@outGLFeeValas				AS GLFeeValas				
		,@outGLFeeValasBranch		AS GLFeeValasBranch	
","name: GetBancaControlTableTM :one DECLARE @outPreviousDate smalldatetime ,@outCurrentDate smalldatetime ,@outNextDate smalldatetime ,@outBeginOfDay bit ,@outEndOfDay bit ,@outLastBatchId bigint ,@outBatchProcessBit bit ,@outGNCAccountNoIDR varchar(20) ,@outGLAccountFeeAccruedIDR varchar(20) ,@outGLOwnerFee varchar(20) ,@outOwnerBranch int ,@outGNCPerantaraTravelex varchar(20) ,@outIsAAJIMandatory bit ,@outIsAAUIMandatory bit ,@outOnOffBancaGW bit ,@outOnOffBMWGLOLLog bit ,@outGLFeeValas varchar(20) ,@outGLFeeValasBranch varchar(20) UPDATE BancaControlTable_TM SET @outPreviousDate = PreviousDate ,@outCurrentDate = CurrentDate ,@outNextDate = NextDate ,@outBeginOfDay = BeginOfDay ,@outEndOfDay = EndOfDay ,@outLastBatchId = LastBatchId ,@outBatchProcessBit = BatchProcessBit ,@outGNCAccountNoIDR = GNCAccountNoIDR ,@outGLAccountFeeAccruedIDR = GLAccountFeeAccruedIDR ,@outGLOwnerFee = GLOwnerFee ,@outOwnerBranch = OwnerBranch ,@outGNCPerantaraTravelex = GNCPerantaraTravelex ,@outIsAAJIMandatory = IsAAJIMandatory ,@outIsAAUIMandatory = IsAAUIMandatory ,@outOnOffBancaGW = OnOffBancaGW ,@outOnOffBMWGLOLLog = OnOffBMWGLOLLog ,@outGLFeeValas = GLFeeValas ,@outGLFeeValasBranch = GLFeeValasBranch ,LastBatchId = LastBatchId +1 SELECT @outPreviousDate AS PreviousDate ,@outCurrentDate AS CurrentDate ,@outNextDate AS NextDate ,@outBeginOfDay AS BeginOfDay ,@outEndOfDay AS EndOfDay ,@outLastBatchId AS LastBatchId ,@outBatchProcessBit AS BatchProcessBit ,@outGNCAccountNoIDR AS GNCAccountNoIDR ,@outGLAccountFeeAccruedIDR AS GLAccountFeeAccruedIDR ,@outGLOwnerFee AS GLOwnerFee ,@outOwnerBranch AS OwnerBranch ,@outGNCPerantaraTravelex AS GNCPerantaraTravelex ,@outIsAAJIMandatory AS IsAAJIMandatory ,@outIsAAUIMandatory AS IsAAUIMandatory ,@outOnOffBancaGW AS OnOffBancaGW ,@outOnOffBMWGLOLLog AS OnOffBMWGLOLLog ,@outGLFeeValas AS GLFeeValas ,@outGLFeeValasBranch AS GLFeeValasBranch",UPDATE,true,false,,1,false,,,3b02f1919b11acef150a2b9c8321239a9f7743d7,MEDIUM,go3/bancaQueries_manual.sql.go,64
golang-sample,go3/bancaQueries_manual.sql.go,bancaQueries_manual.sql.go,code,go,go,127,127,GetBancaControlTableTMLastId,"-- name: GetBancaControlTableTM :one
	DECLARE  @outPreviousDate			smalldatetime
			,@outCurrentDate			smalldatetime
			,@outNextDate				smalldatetime
			,@outBeginOfDay				bit
			,@outEndOfDay				bit
			,@outLastBatchId			bigint
			,@outBatchProcessBit		bit
			,@outGNCAccountNoIDR		varchar(20)
			,@outGLAccountFeeAccruedIDR	varchar(20)
			,@outGLOwnerFee				varchar(20)
			,@outOwnerBranch			int
			,@outGNCPerantaraTravelex	varchar(20)
			,@outIsAAJIMandatory		bit
			,@outIsAAUIMandatory		bit
			,@outOnOffBancaGW			bit
			,@outOnOffBMWGLOLLog		bit
			,@outGLFeeValas				varchar(20)
			,@outGLFeeValasBranch		varchar(20)

	UPDATE BancaControlTable_TM  
	SET		@outPreviousDate			= PreviousDate			
		,@outCurrentDate				= CurrentDate			
		,@outNextDate				= NextDate				
		,@outBeginOfDay				= BeginOfDay				
		,@outEndOfDay				= EndOfDay				
		,@outLastBatchId				= LastBatchId			
		,@outBatchProcessBit			= BatchProcessBit		
		,@outGNCAccountNoIDR			= GNCAccountNoIDR		
		,@outGLAccountFeeAccruedIDR	= GLAccountFeeAccruedIDR	
		,@outGLOwnerFee				= GLOwnerFee				
		,@outOwnerBranch				= OwnerBranch			
		,@outGNCPerantaraTravelex	= GNCPerantaraTravelex	
		,@outIsAAJIMandatory			= IsAAJIMandatory		
		,@outIsAAUIMandatory			= IsAAUIMandatory		
		,@outOnOffBancaGW			= OnOffBancaGW			
		,@outOnOffBMWGLOLLog			= OnOffBMWGLOLLog		
		,@outGLFeeValas				= GLFeeValas				
		,@outGLFeeValasBranch		= GLFeeValasBranch	
		,LastBatchId					= LastBatchId +1


	SELECT  @outPreviousDate			AS PreviousDate			
		,@outCurrentDate				AS CurrentDate			
		,@outNextDate				AS NextDate				
		,@outBeginOfDay				AS BeginOfDay				
		,@outEndOfDay				AS EndOfDay				
		,@outLastBatchId				AS LastBatchId			
		,@outBatchProcessBit			AS BatchProcessBit		
		,@outGNCAccountNoIDR			AS GNCAccountNoIDR		
		,@outGLAccountFeeAccruedIDR	AS GLAccountFeeAccruedIDR	
		,@outGLOwnerFee				AS GLOwnerFee				
		,@outOwnerBranch				AS OwnerBranch			
		,@outGNCPerantaraTravelex	AS GNCPerantaraTravelex	
		,@outIsAAJIMandatory			AS IsAAJIMandatory		
		,@outIsAAUIMandatory			AS IsAAUIMandatory		
		,@outOnOffBancaGW			AS OnOffBancaGW			
		,@outOnOffBMWGLOLLog			AS OnOffBMWGLOLLog		
		,@outGLFeeValas				AS GLFeeValas				
		,@outGLFeeValasBranch		AS GLFeeValasBranch	
","name: GetBancaControlTableTM :one DECLARE @outPreviousDate smalldatetime ,@outCurrentDate smalldatetime ,@outNextDate smalldatetime ,@outBeginOfDay bit ,@outEndOfDay bit ,@outLastBatchId bigint ,@outBatchProcessBit bit ,@outGNCAccountNoIDR varchar(20) ,@outGLAccountFeeAccruedIDR varchar(20) ,@outGLOwnerFee varchar(20) ,@outOwnerBranch int ,@outGNCPerantaraTravelex varchar(20) ,@outIsAAJIMandatory bit ,@outIsAAUIMandatory bit ,@outOnOffBancaGW bit ,@outOnOffBMWGLOLLog bit ,@outGLFeeValas varchar(20) ,@outGLFeeValasBranch varchar(20) UPDATE BancaControlTable_TM SET @outPreviousDate = PreviousDate ,@outCurrentDate = CurrentDate ,@outNextDate = NextDate ,@outBeginOfDay = BeginOfDay ,@outEndOfDay = EndOfDay ,@outLastBatchId = LastBatchId ,@outBatchProcessBit = BatchProcessBit ,@outGNCAccountNoIDR = GNCAccountNoIDR ,@outGLAccountFeeAccruedIDR = GLAccountFeeAccruedIDR ,@outGLOwnerFee = GLOwnerFee ,@outOwnerBranch = OwnerBranch ,@outGNCPerantaraTravelex = GNCPerantaraTravelex ,@outIsAAJIMandatory = IsAAJIMandatory ,@outIsAAUIMandatory = IsAAUIMandatory ,@outOnOffBancaGW = OnOffBancaGW ,@outOnOffBMWGLOLLog = OnOffBMWGLOLLog ,@outGLFeeValas = GLFeeValas ,@outGLFeeValasBranch = GLFeeValasBranch ,LastBatchId = LastBatchId +1 SELECT @outPreviousDate AS PreviousDate ,@outCurrentDate AS CurrentDate ,@outNextDate AS NextDate ,@outBeginOfDay AS BeginOfDay ,@outEndOfDay AS EndOfDay ,@outLastBatchId AS LastBatchId ,@outBatchProcessBit AS BatchProcessBit ,@outGNCAccountNoIDR AS GNCAccountNoIDR ,@outGLAccountFeeAccruedIDR AS GLAccountFeeAccruedIDR ,@outGLOwnerFee AS GLOwnerFee ,@outOwnerBranch AS OwnerBranch ,@outGNCPerantaraTravelex AS GNCPerantaraTravelex ,@outIsAAJIMandatory AS IsAAJIMandatory ,@outIsAAUIMandatory AS IsAAUIMandatory ,@outOnOffBancaGW AS OnOffBancaGW ,@outOnOffBMWGLOLLog AS OnOffBMWGLOLLog ,@outGLFeeValas AS GLFeeValas ,@outGLFeeValasBranch AS GLFeeValasBranch",UPDATE,true,false,,1,false,ctx,,3b02f1919b11acef150a2b9c8321239a9f7743d7,MEDIUM,go3/bancaQueries_manual.sql.go,64
golang-sample,go3/bond_transaction_repository.go,bond_transaction_repository.go,code,go,go,38,38,GetSecondaryTransactionStatus,"SELECT Id,Description FROM dbo.SecurityTransactionStatus_TM ORDER BY Id","SELECT Id,Description FROM dbo.SecurityTransactionStatus_TM ORDER BY Id",SELECT,false,false,,1,false,r.db_trs,,48e5c14ee1ef990fff05a5723c1ba03146a0cba1,LOW,go3/bond_transaction_repository.go,37
golang-sample,go3/bond_transaction_repository.go,bond_transaction_repository.go,code,go,go,636,636,GetSecondaryTransactionBlotter,"
	DECLARE
		@pdFrom DATETIME  
		,@pdTo 	DATETIME  

	SET @pdFrom = DATEADD(dd,DATEDIFF(dd,0,@pdTrxFrom),0)    
  	SET @pdTo = DATEADD(DAY,1,@pdTrxTo)            

	  CREATE TABLE #tmp_blotter (  
		[DealId]				BIGINT  
		,[SecurityAcctNo]		VARCHAR(20)  
		,[TransactionType]		VARCHAR(50)  
		,[ProductName]			VARCHAR(100)  
		,[TipeBenefit]			VARCHAR(50)  
		,[Name]					VARCHAR(100)  
		,[BranchTransaksi]		VARCHAR(150)  
		,[Currency]				VARCHAR(10)  
		,[FaceValue]			VARCHAR(30)  
		,[nFaceValue]			DECIMAL(20,5)  
		,[DealPrice]			DECIMAL(20,5)  
		,[AccruedInterest]		VARCHAR(30)  
		,[TotalProceed]			VARCHAR(30)  
		,SumberDana				VARCHAR(500)  
		,[TanggalTransaksi]		DATETIME  
		,[SettlementDate]		DATETIME  
		,[DealNoMurex]			VARCHAR(100)  
		,[Status]				VARCHAR(100)  
		,[Instruksi]			VARCHAR(100)    
		,[Switching]			VARCHAR(100)    
		,IdLelang				VARCHAR(50)  
		,MurexNoKemenkeu		VARCHAR(20)  
		,MurexNoTrader			VARCHAR(20)  
		,[ReplaceIdLelang]		VARCHAR(1000)  
		,HargaModal				VARCHAR(40)  
		,nHargaModal			DECIMAL(20,5)  
		,NIKInputter			VARCHAR(150)  
		,NIKNamaInputter		VARCHAR(150)  
		,NIKSeller				VARCHAR(150)  
		,NIKNamaSeller			VARCHAR(150)  
		,NIKMarketing			VARCHAR(150)  
		,NIKNamaMarketing		VARCHAR(150)  
        ,PBEACustomerId			VARCHAR(13)       
        ,FlagOther				BIT
        ,NoRekInestor			VARCHAR(40)
		,RevenueInIDR			DECIMAL(20,5)
		,TrxType				INT
		,SecId					BIGINT
        ,Kurs					DECIMAL(13,7)     
        ,BondType				VARCHAR(10)       
		,TrxStatus				VARCHAR(10)
	)  

	CREATE TABLE #tmp_SOF (  
		DealIdProduct			BIGINT
		,Product				VARCHAR(50)
		,SourceData				VARCHAR(50)  
		,DealIdSource			BIGINT
		,Account				VARCHAR(50)  
	)
   
	/*** TRX SEKUNDER ***/  
	INSERT #tmp_blotter (  
		[DealId]     
		,[SecurityAcctNo]   
		,[TransactionType]   
		,[ProductName]  
		,[TipeBenefit]
		,[Name]      
		,[BranchTransaksi]   
		,[Currency]
		,[FaceValue]    
		,[nFaceValue]
		,[DealPrice]    
		,[AccruedInterest]   
		,[TotalProceed]  
		,[TanggalTransaksi]  
		,[SettlementDate]      
		,[DealNoMurex]   
		,[Status]     
		,[Instruksi]    
		,[Switching]  
		,HargaModal  
		,nHargaModal  
		,NIKInputter
		,NIKSeller
		,PBEACustomerId
		,FlagOther
		,NoRekInestor
		,TrxType
		,SecId
		,TrxStatus
	)  
	SELECT   
		sttt.DealId   
		,tctm.SecAccNo  
		,sctr.TrxDesc  
		,sm.SecDescr  
		,par.Description
		,tctm.Nama  
		,sttt.TrxBranch + '-' + mie.office_name
		,sm.SecCcy
		,CONVERT(VARCHAR(30),sttt.FaceValue,1)  
		,sttt.FaceValue
		,sttt.DealPrice  
		,CONVERT(VARCHAR(30),sttt.AccruedInterest,1)  
		,CONVERT(VARCHAR(30),sttt.TotalProceed,1)  
		,sttt.TrxDate  
		,sttt.SettlementDate  
		,ISNULL(sttt.DealIdExternal,'-')  
		,ISNULL(sts.[Description],'-')  
		,CASE WHEN sttt.Instruction = 'OM'   
		THEN 'OneMobile'    
		WHEN sttt.Instruction = 'VELO' THEN 'VELOCITY' 
		ELSE CASE WHEN sttt.PhoneOrderBit = 1   
			THEN 'Phone Order'  
			ELSE 'Cabang'  
			END  
		END  
		,CASE sttt.FlagSwitching   
			WHEN 1 THEN sttt.DealIdSwitching  
			ELSE '' 
		END  AS Switching  
		,CONVERT(VARCHAR(30),sttt.HargaModal, 1) AS HargaModal    
		,sttt.HargaModal
		,sttt.NIK_Dealer
		,sttt.NIK_CS
        ,RIGHT(tctm.CIFNo, 13) AS PBEACustomerId       
		,sttt.FlagOther
		,sttt.NoRekInvestor
		,sttt.TrxType
		,sttt.SecId
		,sttt.TrxStatus
	FROM dbo.SecurityTransaction_TT sttt   WITH(NOLOCK)
	INNER JOIN dbo.TreasuryCustomer_TM tctm WITH(NOLOCK)   
		ON sttt.CIFId = tctm.CIFId      
	LEFT JOIN dbo.SecurityTransactionStatus_TM sts WITH(NOLOCK) 
		ON sttt.TrxStatus = sts.Id      
	LEFT JOIN dbo.MISOfficeInformationEODFull_v mie WITH(NOLOCK) 
		ON sttt.TrxBranch = mie.office_id      
	LEFT JOIN dbo.SecurityMaster_TM sm WITH(NOLOCK)    
		ON sttt.SecId = sm.SecId    
	LEFT JOIN dbo.SecurityTransaction_TR sctr WITH(NOLOCK)  
		ON sttt.TrxType = sctr.TrxTypeID
	LEFT JOIN dbo.TRSParameter_TR par
		ON sm.ImbalHasil = par.Value
			AND par.Code = 'ImbalHasil'
	WHERE (@pnStatus = -1 or sttt.TrxStatus = @pnStatus)  
		AND (CASE WHEN sttt.TrxType = 5 THEN sttt.SettlementDate ELSE sttt.TrxDate END) >= @pdFrom  
		AND (CASE WHEN sttt.TrxType = 5 THEN sttt.SettlementDate ELSE sttt.TrxDate END) < @pdTo
		AND TrxType not in (11)    
		AND ISNULL([IsBuyBack], 0) = 0  
		AND ISNULL([IsLelang], 0) = 0  
		AND @pcTrxType <> 'Lelang'

	UPDATE tmp  
	SET tmp.[Instruksi] = 'RM Mobile'  
	FROM #tmp_blotter tmp  
	JOIN dbo.RMMSecurityTransaction_TT rmm  
		ON tmp.[DealId] = rmm.DealId  
	WHERE tmp.[Instruksi] = 'Cabang'  
  
	/*** TRX LElANG ***/  
	INSERT #tmp_blotter (  
		IdLelang  
		,[SecurityAcctNo]   
		,[TransactionType]   
		,[ProductName]    
		,[TipeBenefit]
		,[Name]      
		,[BranchTransaksi]   
		,[Currency]
		,[FaceValue]    
		,[nFaceValue]    
		,[DealPrice]    
		,[AccruedInterest]   
		,[TotalProceed]  
		,[TanggalTransaksi]  
		,[SettlementDate]      
		,[DealNoMurex]   
		,[Status]     
		,[Instruksi]      
		,HargaModal  
		,nHargaModal  
		,NIKInputter
		,NIKSeller
		,PBEACustomerId
		,FlagOther
		,NoRekInestor
		,TrxType
		,SecId
		,TrxStatus
	)  
	SELECT   
		CONVERT(VARCHAR(50), stl.IdLelang)
		,tctm.SecAccNo  
		,'Sell'  
		,sm.SecDescr  
		,par.Description
		,tctm.Nama  
		,stl.TrxBranch + '-' + mie.office_name  
		,sm.SecCcy
		,CONVERT(VARCHAR(30),ISNULL(sttt.FaceValue,stl.FaceValue),1)  
		,ISNULL(sttt.FaceValue,stl.FaceValue)  
		,ISNULL(sttt.DealPrice,stl.DealPrice)  
		,CONVERT(VARCHAR(30),ISNULL(sttt.AccruedInterest,stl.AccruedInterest),1)  
		,CONVERT(VARCHAR(30),ISNULL(sttt.TotalProceed,stl.TotalProceed),1)  
		,ISNULL(sttt.TrxDate,stl.TrxDate)  
		,stl.SettlementDate  
		,ISNULL(sttt.DealIdExternal,'-')  
		,ISNULL(sts.ParamDesc,'-')  
		,'Cabang'  
		,CONVERT(VARCHAR(30),stl.HargaModal, 1) AS HargaModal  
		,stl.HargaModal
		,stl.NIK_Dealer
		,stl.NIK_CS
        ,RIGHT(tctm.CIFNo, 13) AS PBEACustomerId       
		,stl.FlagOther
		,stl.NoRekInvestor
		,4
		,stl.SecId
		,stl.[Status]
	FROM dbo.SecurityTrxLelang_TT stl  WITH(NOLOCK)    
	INNER JOIN dbo.TreasuryCustomer_TM tctm WITH(NOLOCK) 
		ON stl.CIFId = tctm.CIFId      
	LEFT JOIN dbo.SecurityParamLelang_TR sts WITH(NOLOCK) 
		ON stl.[Status] = sts.ParamValue      
	LEFT JOIN dbo.MISOfficeInformationEODFull_v mie WITH(NOLOCK) 
		ON stl.TrxBranch = mie.office_id      
	LEFT JOIN dbo.SecurityMaster_TM sm WITH(NOLOCK) 
		ON stl.SecId = sm.SecId  
	LEFT JOIN dbo.SecurityTransaction_TT sttt WITH(NOLOCK) 
		ON stl.IdLelang = sttt.IdLelang  
			AND sttt.TrxDate >= @pdFrom 
			AND sttt.TrxDate < @pdTo  
	LEFT JOIN dbo.TRSParameter_TR par
		ON sm.ImbalHasil = par.Value
			AND par.Code = 'ImbalHasil'
	WHERE ((sttt.TrxDate IS NULL AND stl.TrxDate >= @pdFrom) OR sttt.TrxDate >= @pdFrom)  
		AND ((sttt.TrxDate IS NULL AND stl.TrxDate < @pdTo) OR sttt.TrxDate < @pdTo)  
		AND @pcTrxType <> 'Sekunder'
    
	IF @pcTrxType = 'Lelang' AND @pnStatus >= 0
	BEGIN  
		DELETE bl  
		FROM #tmp_blotter bl WITH(NOLOCK)  
		LEFT JOIN dbo.SecurityTransaction_TT stt WITH(NOLOCK)  
			ON bl.IdLelang = stt.IdLelang  
				AND stt.TrxDate >= @pdFrom  
				AND stt.TrxDate < @pdTo  
				AND stt.TrxStatus = @pnStatus  
		WHERE bl.[TransactionType] = 'Sell'  
			AND stt.IdLelang IS NULL  
	END  
   
	UPDATE bl  
	SET [DealId] = tt.DealId  
		,[Status] = sts.[Description]  
	FROM #tmp_blotter bl  
	JOIN dbo.SecurityTransaction_TT tt   
		ON bl.IdLelang = tt.IdLelang  
	JOIN dbo.SecurityTransactionStatus_TM sts  
		ON tt.TrxStatus = sts.Id      
	WHERE bl.[TransactionType] = 'Sell'  
		AND tt.IsLelang = 1  
		AND tt.TrxDate >= DATEADD(day,-7,@pdFrom)  
		AND tt.TrxDate < DATEADD(day,7,@pdTo)  
      
	UPDATE bl  
	SET MurexNoKemenkeu = tr.MurexNoKemenkeu  
		,MurexNoTrader = tr.MurexNoTrader  
	FROM #tmp_blotter bl  
	JOIN dbo.[SecurityTrxResultLelang_TT] tt  
		ON bl.IdLelang = tt.IdLelang  
	JOIN dbo.SecurityTrxLelang_TT trx  
		ON trx.IdLelang = tt.IdLelang  
	JOIN dbo.SecurityBatchResult_TR tr  
		ON tt.ResultId = tr.ResultId  
			AND tt.Instruction = tr.BatchType  
	WHERE trx.[Status] = 'EXC'  
    
	UPDATE bl  
	SET MurexNoKemenkeu = tr.MurexNoKemenkeu  
		,MurexNoTrader = tr.MurexNoTrader  
	FROM #tmp_blotter bl  
	JOIN SecurityReplaceTrxLelang_TT rep  
		ON bl.IdLelang = rep.IdLelang  
	JOIN dbo.[SecurityTrxResultLelang_TT] tt  
		ON rep.IdLelang_Source = tt.IdLelang  
	JOIN dbo.SecurityBatchResult_TR tr  
		ON tt.ResultId = tr.ResultId  
			AND tt.Instruction = tr.BatchType  
	WHERE tt.StatusData = 'EXC'  
    
	IF EXISTS(SELECT TOP 1 1 FROM #tmp_blotter a  
		JOIN dbo.SecurityReplaceTrxLelang_TT b WITH(NOLOCK)  
			ON b.IdLelang_Source = a.IdLelang  
		WHERE b.IdLelang IS NOT NULL AND @pcTrxType <> 'Sekunder'  
	)  
	BEGIN  
		UPDATE a  
		SET [ReplaceIdLelang] = STUFF(          
			(  
				SELECT DISTINCT ',' + CAST(IdLelang AS VARCHAR(19))  
				FROM dbo.SecurityReplaceTrxLelang_TT  WITH(NOLOCK)        
				WHERE IdLelang_Source = a.IdLelang  
			FOR XML PATH ('')  
			), 1, 1, ''  
			)  
		FROM #tmp_blotter a  
		WHERE a.IdLelang IS NOT NULL  
     
		UPDATE a  
		SET [ReplaceIdLelang] = [ReplaceIdLelang] + ' - ' +CONVERT(VARCHAR(15),c.InsertedDate,106)  
		FROM #tmp_blotter a  
		JOIN dbo.SecurityReplaceTrxLelang_TT b WITH(NOLOCK)  
			ON b.IdLelang_Source = a.IdLelang  
		JOIN dbo.SecurityTrxLelang_TT c WITH(NOLOCK)  
			ON b.IdLelang = c.IdLelang  
		WHERE a.IdLelang IS NOT NULL  
	END 

    --- NamaInputter ---       
    UPDATE tmp       
        SET NIKNamaInputter = RTRIM(tmp.NIKInputter) + '-' + RTRIM(u.fullname)
    FROM #tmp_blotter tmp       
    INNER JOIN dbo.user_nisp_v u       
        ON tmp.NIKInputter = u.nik 

	--- NamaSeller ---       
	UPDATE tmp       
		SET NIKNamaSeller = RTRIM(tmp.NIKSeller) + '-' + RTRIM(u.fullname)
	FROM #tmp_blotter tmp       
	INNER JOIN dbo.user_nisp_v u       
		ON tmp.NIKSeller = u.nik   

    --- EA Customer NIKMarketingFlagging ---       
    UPDATE tmp       
        SET NIKMarketing = ea.MOId       
    FROM #tmp_blotter tmp       
    INNER JOIN dbo.EACustomerFlagging_TM_v ea       
        ON tmp.PBEACustomerId = ea.CustomerId       
          
    --- NIKMarketingFlagging & IsPremierBanking ---          
    UPDATE tmp       
        SET NIKMarketing = pb.UserId       
    FROM #tmp_blotter tmp       
    INNER JOIN dbo.PBCustomerFlagging_TM_v pb       
        ON tmp.PBEACustomerId = pb.CustomerId 

    --- NameMarketingFlagging ---        
	UPDATE tmp       
        SET NIKNamaMarketing = RTRIM(tmp.NIKMarketing) + '-' + RTRIM(u.fullname)
    FROM #tmp_blotter tmp       
    INNER JOIN dbo.user_nisp_v u       
        ON tmp.NIKMarketing = u.nik 
	
	--- Sumber Dana ---        
	INSERT #tmp_SOF(  
		DealIdProduct
		,Product
		,SourceData
		,DealIdSource
		,Account
	)
	SELECT 
		DealIdProduct
		,Product
		,SourceData
		,DealIdSource
		,Account
	FROM #tmp_blotter tmp
	JOIN dbo.TRSListTransactionSourceOfFund_TT tt
		ON RTRIM(tt.Product) IN ('Obligasi', 'Lelang')
			AND tmp.DealId = tt.DealIdProduct
	WHERE TrxStatus NOT IN ('11')

	INSERT #tmp_SOF(  
		DealIdProduct
		,Product
		,SourceData
		,DealIdSource
		,Account
	)
	SELECT 
		DealIdProduct
		,Product
		,SourceData
		,DealIdSource
		,Account
	FROM #tmp_blotter tmp
	JOIN dbo.TRSListTransactionSourceOfFund_TH tt
		ON RTRIM(tt.Product) IN ('Obligasi', 'Lelang')
			AND tmp.DealId = tt.DealIdProduct
	WHERE TrxStatus IN ('11')
		AND [Description] = 'DELETE DATA'

	INSERT #tmp_SOF(  
		DealIdProduct
		,Product
		,SourceData
		,DealIdSource
		,Account
	)
	SELECT 
		DealIdParent
		,'Obligasi'
		,'Obligasi'
		,DealIdChild
		,0
	FROM #tmp_blotter tmp
	JOIN dbo.SecurityTransactionLink_TR tr
		ON tmp.DealId = tr.DealIdParent
	WHERE TrxStatus NOT IN ('11')

	INSERT #tmp_SOF(  
		DealIdProduct
		,Product
		,SourceData
		,DealIdSource
		,Account
	)
	SELECT 
		DealIdParent
		,'Obligasi'
		,'Obligasi'
		,DealIdChild
		,0
	FROM #tmp_blotter tmp
	JOIN dbo.SecurityTranscationLink_TL tr
		ON tmp.DealId = tr.DealIdParent
	WHERE TrxStatus IN ('11')

	SELECT DISTINCT sof2.DealIdProduct, 
		SUBSTRING(
			(
				SELECT 
					CASE sof1.SourceData 
					WHEN 'Rekening' THEN ', ' + 'Rekening-[' + CONVERT(VARCHAR(100), sof1.Account) + ']'
					ELSE ',' + sof1.SourceData + '-[' + CONVERT(VARCHAR(100), sof1.DealIdSource) + ']' END AS [text()]
				FROM #tmp_SOF sof1
				WHERE sof1.DealIdProduct = sof2.DealIdProduct
				ORDER BY sof1.DealIdProduct
				FOR XML PATH (''), TYPE
			).value('text()[1]	','NVARCHAR(max)'), 2, 1000) AS SumberDana
	INTO #tmpSumberDana
	FROM #tmp_SOF sof2

	UPDATE blt
		SET SumberDana = sd.SumberDana
	FROM #tmp_blotter blt
	JOIN #tmpSumberDana sd
		ON blt.DealId = sd.DealIdProduct

	UPDATE blt
		SET SumberDana = 'Rekening-[' + CONVERT(VARCHAR(100), NoRekInestor) + ']' 
	FROM #tmp_blotter blt
	WHERE ISNULL(SumberDana, '') = ''
	AND TransactionType != 'Buy'
	
	DELETE tmp FROM #tmp_blotter tmp
	WHERE @pcBenefitType != 'ALL' AND (ISNULL(TipeBenefit, '') = '' OR TipeBenefit != @pcBenefitType)

	DELETE tmp FROM #tmp_blotter tmp WHERE RTRIM(TransactionType) IN ('Bond Due', 'Coupon')

	UPDATE tmp     
	SET Kurs = sct.BIRate     
	FROM #tmp_blotter tmp     
	INNER JOIN dbo.SIBSCurrencyTable_TM_v sct     
		ON tmp.Currency = sct.CurrencyCode     
	WHERE sct.PBOId = '500'    
		AND CONVERT(VARCHAR, tmp.TanggalTransaksi, 112) >= CONVERT(VARCHAR, GETDATE(), 112)    
		AND CONVERT(VARCHAR, tmp.TanggalTransaksi, 112) < DATEADD(DAY, 1, DATEADD(DAY, DATEDIFF(DAY,0,GETDATE()), 0))    
     
	UPDATE tmp    
	SET tmp.Kurs =  ISNULL(sc.BIRate, 1)    
	FROM #tmp_blotter AS tmp    
	JOIN SQL_SIBS.dbo.SIBSCurrencyTable_EOD AS sc    
		ON CONVERT(VARCHAR, tmp.TanggalTransaksi, 112) = sc.Period    
			AND sc.CurrencyCode = tmp.Currency    
	WHERE tmp.Currency <> 'IDR' and sc.PBOId = 500    
		AND tmp.TanggalTransaksi < CONVERT(VARCHAR, GETDATE(), 112)    
		AND tmp.Kurs IS NULL    
  
	UPDATE #tmp_blotter    
		SET Kurs = 1    
	WHERE Currency = 'IDR'     
	
	UPDATE tmp
		SET RevenueInIDR = hr.ProfitLCY
    FROM #tmp_blotter tmp
	JOIN dbo.TRSHasilRevenue_TM AS hr
		ON tmp.DealId = hr.DealId

    UPDATE tmp       
		SET RevenueInIDR = 	CASE 
			WHEN Currency  = 'IDR' THEN convert( DECIMAL(20,5), CASE
				WHEN tmp.TrxType = 4 THEN ( ISNULL(tmp.DealPrice,0)  - ISNULL(tmp.nHargaModal,0)) * tmp.nFaceValue
				WHEN tmp.TrxType = 3 THEN ( ISNULL(tmp.nHargaModal,0) - ISNULL(tmp.DealPrice,0)) * tmp.nFaceValue
				ELSE 0
				END) / 100.00 
			ELSE (convert( DECIMAL(20,5), CASE 
				WHEN tmp.TrxType = 4 THEN ( ISNULL(tmp.DealPrice,0)  - ISNULL(tmp.nHargaModal,0)) * tmp.nFaceValue     
				WHEN tmp.TrxType = 3 THEN ( ISNULL(tmp.nHargaModal,0) - ISNULL(tmp.DealPrice,0)) * tmp.nFaceValue     
				ELSE 0     
				END) / 100.00 ) * Kurs     
			END   
    FROM #tmp_blotter tmp     
    WHERE RevenueInIDR IS NULL

	UPDATE tmp
		SET BondType = CASE
				WHEN sm.IsCorporateBond = 0 AND sm.SecType != 3 THEN 'GOV'
				WHEN sm.IsCorporateBond = 0 AND sm.SecType = 3 THEN 'SRBI'
				ELSE 'CORP'
			END
	FROM #tmp_blotter tmp
	JOIN dbo.SecurityMaster_TM sm WITH(NOLOCK) 
		ON tmp.SecId = sm.SecId  


	/*** RESULT ***/  
	SELECT   
		[DealId]     
		,IdLelang  
		,[SecurityAcctNo]   
		,[TransactionType]   
		,[ProductName]    
		,[TipeBenefit]
		,[Name]      
		,[BranchTransaksi]   
		,[Currency]
		,[FaceValue]    
		,HargaModal  
		,[DealPrice]    
		,[AccruedInterest]   
		,[TotalProceed]  
		,SumberDana
		,[TanggalTransaksi]  
		,[SettlementDate]      
		,[DealNoMurex]   
		,[Status]     
		,[Instruksi]      
		,[ReplaceIdLelang]
		,MurexNoKemenkeu   
		,MurexNoTrader   
		,NIKNamaInputter
		,NIKNamaSeller
		,NIKNamaMarketing
		,CONVERT(VARCHAR(30),CONVERT(MONEY,RevenueInIDR),1) AS RevenueInIDR
		,BondType
	FROM #tmp_blotter 
  
	IF OBJECT_ID('tempdb..#tmp_blotter') IS NOT NULL  
		DROP TABLE #tmp_blotter     
	
	IF OBJECT_ID('tempdb..#tmp_SOF') IS NOT NULL  
		DROP TABLE #tmp_SOF

	IF OBJECT_ID('tempdb..#tmpSumberDana') IS NOT NULL  
		DROP TABLE #tmpSumberDana
	","DECLARE @pdFrom DATETIME ,@pdTo DATETIME SET @pdFrom = DATEADD(dd,DATEDIFF(dd,0,@pdTrxFrom),0) SET @pdTo = DATEADD(DAY,1,@pdTrxTo) CREATE TABLE #tmp_blotter ( [DealId] BIGINT ,[SecurityAcctNo] VARCHAR(20) ,[TransactionType] VARCHAR(50) ,[ProductName] VARCHAR(100) ,[TipeBenefit] VARCHAR(50) ,[Name] VARCHAR(100) ,[BranchTransaksi] VARCHAR(150) ,[Currency] VARCHAR(10) ,[FaceValue] VARCHAR(30) ,[nFaceValue] DECIMAL(20,5) ,[DealPrice] DECIMAL(20,5) ,[AccruedInterest] VARCHAR(30) ,[TotalProceed] VARCHAR(30) ,SumberDana VARCHAR(500) ,[TanggalTransaksi] DATETIME ,[SettlementDate] DATETIME ,[DealNoMurex] VARCHAR(100) ,[Status] VARCHAR(100) ,[Instruksi] VARCHAR(100) ,[Switching] VARCHAR(100) ,IdLelang VARCHAR(50) ,MurexNoKemenkeu VARCHAR(20) ,MurexNoTrader VARCHAR(20) ,[ReplaceIdLelang] VARCHAR(1000) ,HargaModal VARCHAR(40) ,nHargaModal DECIMAL(20,5) ,NIKInputter VARCHAR(150) ,NIKNamaInputter VARCHAR(150) ,NIKSeller VARCHAR(150) ,NIKNamaSeller VARCHAR(150) ,NIKMarketing VARCHAR(150) ,NIKNamaMarketing VARCHAR(150) ,PBEACustomerId VARCHAR(13) ,FlagOther BIT ,NoRekInestor VARCHAR(40) ,RevenueInIDR DECIMAL(20,5) ,TrxType INT ,SecId BIGINT ,Kurs DECIMAL(13,7) ,BondType VARCHAR(10) ,TrxStatus VARCHAR(10) ) CREATE TABLE #tmp_SOF ( DealIdProduct BIGINT ,Product VARCHAR(50) ,SourceData VARCHAR(50) ,DealIdSource BIGINT ,Account VARCHAR(50) ) INSERT #tmp_blotter ( [DealId] ,[SecurityAcctNo] ,[TransactionType] ,[ProductName] ,[TipeBenefit] ,[Name] ,[BranchTransaksi] ,[Currency] ,[FaceValue] ,[nFaceValue] ,[DealPrice] ,[AccruedInterest] ,[TotalProceed] ,[TanggalTransaksi] ,[SettlementDate] ,[DealNoMurex] ,[Status] ,[Instruksi] ,[Switching] ,HargaModal ,nHargaModal ,NIKInputter ,NIKSeller ,PBEACustomerId ,FlagOther ,NoRekInestor ,TrxType ,SecId ,TrxStatus ) SELECT sttt.DealId ,tctm.SecAccNo ,sctr.TrxDesc ,sm.SecDescr ,par.Description ,tctm.Nama ,sttt.TrxBranch + '-' + mie.office_name ,sm.SecCcy ,CONVERT(VARCHAR(30),sttt.FaceValue,1) ,sttt.FaceValue ,sttt.DealPrice ,CONVERT(VARCHAR(30),sttt.AccruedInterest,1) ,CONVERT(VARCHAR(30),sttt.TotalProceed,1) ,sttt.TrxDate ,sttt.SettlementDate ,ISNULL(sttt.DealIdExternal,'-') ,ISNULL(sts.[Description],'-') ,CASE WHEN sttt.Instruction = 'OM' THEN 'OneMobile' WHEN sttt.Instruction = 'VELO' THEN 'VELOCITY' ELSE CASE WHEN sttt.PhoneOrderBit = 1 THEN 'Phone Order' ELSE 'Cabang' END END ,CASE sttt.FlagSwitching WHEN 1 THEN sttt.DealIdSwitching ELSE '' END AS Switching ,CONVERT(VARCHAR(30),sttt.HargaModal, 1) AS HargaModal ,sttt.HargaModal ,sttt.NIK_Dealer ,sttt.NIK_CS ,RIGHT(tctm.CIFNo, 13) AS PBEACustomerId ,sttt.FlagOther ,sttt.NoRekInvestor ,sttt.TrxType ,sttt.SecId ,sttt.TrxStatus FROM dbo.SecurityTransaction_TT sttt WITH(NOLOCK) INNER JOIN dbo.TreasuryCustomer_TM tctm WITH(NOLOCK) ON sttt.CIFId = tctm.CIFId LEFT JOIN dbo.SecurityTransactionStatus_TM sts WITH(NOLOCK) ON sttt.TrxStatus = sts.Id LEFT JOIN dbo.MISOfficeInformationEODFull_v mie WITH(NOLOCK) ON sttt.TrxBranch = mie.office_id LEFT JOIN dbo.SecurityMaster_TM sm WITH(NOLOCK) ON sttt.SecId = sm.SecId LEFT JOIN dbo.SecurityTransaction_TR sctr WITH(NOLOCK) ON sttt.TrxType = sctr.TrxTypeID LEFT JOIN dbo.TRSParameter_TR par ON sm.ImbalHasil = par.Value AND par.Code = 'ImbalHasil' WHERE (@pnStatus = -1 or sttt.TrxStatus = @pnStatus) AND (CASE WHEN sttt.TrxType = 5 THEN sttt.SettlementDate ELSE sttt.TrxDate END) >= @pdFrom AND (CASE WHEN sttt.TrxType = 5 THEN sttt.SettlementDate ELSE sttt.TrxDate END) < @pdTo AND TrxType not in (11) AND ISNULL([IsBuyBack], 0) = 0 AND ISNULL([IsLelang], 0) = 0 AND @pcTrxType <> 'Lelang' UPDATE tmp SET tmp.[Instruksi] = 'RM Mobile' FROM #tmp_blotter tmp JOIN dbo.RMMSecurityTransaction_TT rmm ON tmp.[DealId] = rmm.DealId WHERE tmp.[Instruksi] = 'Cabang' INSERT #tmp_blotter ( IdLelang ,[SecurityAcctNo] ,[TransactionType] ,[ProductName] ,[TipeBenefit] ,[Name] ,[BranchTransaksi] ,[Currency] ,[FaceValue] ,[nFaceValue] ,[DealPrice] ,[AccruedInterest] ,[TotalProceed] ,[TanggalTransaksi] ,[SettlementDate] ,[DealNoMurex] ,[Status] ,[Instruksi] ,HargaModal ,nHargaModal ,NIKInputter ,NIKSeller ,PBEACustomerId ,FlagOther ,NoRekInestor ,TrxType ,SecId ,TrxStatus ) SELECT CONVERT(VARCHAR(50), stl.IdLelang) ,tctm.SecAccNo ,'Sell' ,sm.SecDescr ,par.Description ,tctm.Nama ,stl.TrxBranch + '-' + mie.office_name ,sm.SecCcy ,CONVERT(VARCHAR(30),ISNULL(sttt.FaceValue,stl.FaceValue),1) ,ISNULL(sttt.FaceValue,stl.FaceValue) ,ISNULL(sttt.DealPrice,stl.DealPrice) ,CONVERT(VARCHAR(30),ISNULL(sttt.AccruedInterest,stl.AccruedInterest),1) ,CONVERT(VARCHAR(30),ISNULL(sttt.TotalProceed,stl.TotalProceed),1) ,ISNULL(sttt.TrxDate,stl.TrxDate) ,stl.SettlementDate ,ISNULL(sttt.DealIdExternal,'-') ,ISNULL(sts.ParamDesc,'-') ,'Cabang' ,CONVERT(VARCHAR(30),stl.HargaModal, 1) AS HargaModal ,stl.HargaModal ,stl.NIK_Dealer ,stl.NIK_CS ,RIGHT(tctm.CIFNo, 13) AS PBEACustomerId ,stl.FlagOther ,stl.NoRekInvestor ,4 ,stl.SecId ,stl.[Status] FROM dbo.SecurityTrxLelang_TT stl WITH(NOLOCK) INNER JOIN dbo.TreasuryCustomer_TM tctm WITH(NOLOCK) ON stl.CIFId = tctm.CIFId LEFT JOIN dbo.SecurityParamLelang_TR sts WITH(NOLOCK) ON stl.[Status] = sts.ParamValue LEFT JOIN dbo.MISOfficeInformationEODFull_v mie WITH(NOLOCK) ON stl.TrxBranch = mie.office_id LEFT JOIN dbo.SecurityMaster_TM sm WITH(NOLOCK) ON stl.SecId = sm.SecId LEFT JOIN dbo.SecurityTransaction_TT sttt WITH(NOLOCK) ON stl.IdLelang = sttt.IdLelang AND sttt.TrxDate >= @pdFrom AND sttt.TrxDate < @pdTo LEFT JOIN dbo.TRSParameter_TR par ON sm.ImbalHasil = par.Value AND par.Code = 'ImbalHasil' WHERE ((sttt.TrxDate IS NULL AND stl.TrxDate >= @pdFrom) OR sttt.TrxDate >= @pdFrom) AND ((sttt.TrxDate IS NULL AND stl.TrxDate < @pdTo) OR sttt.TrxDate < @pdTo) AND @pcTrxType <> 'Sekunder' IF @pcTrxType = 'Lelang' AND @pnStatus >= 0 BEGIN DELETE bl FROM #tmp_blotter bl WITH(NOLOCK) LEFT JOIN dbo.SecurityTransaction_TT stt WITH(NOLOCK) ON bl.IdLelang = stt.IdLelang AND stt.TrxDate >= @pdFrom AND stt.TrxDate < @pdTo AND stt.TrxStatus = @pnStatus WHERE bl.[TransactionType] = 'Sell' AND stt.IdLelang IS NULL END UPDATE bl SET [DealId] = tt.DealId ,[Status] = sts.[Description] FROM #tmp_blotter bl JOIN dbo.SecurityTransaction_TT tt ON bl.IdLelang = tt.IdLelang JOIN dbo.SecurityTransactionStatus_TM sts ON tt.TrxStatus = sts.Id WHERE bl.[TransactionType] = 'Sell' AND tt.IsLelang = 1 AND tt.TrxDate >= DATEADD(day,-7,@pdFrom) AND tt.TrxDate < DATEADD(day,7,@pdTo) UPDATE bl SET MurexNoKemenkeu = tr.MurexNoKemenkeu ,MurexNoTrader = tr.MurexNoTrader FROM #tmp_blotter bl JOIN dbo.[SecurityTrxResultLelang_TT] tt ON bl.IdLelang = tt.IdLelang JOIN dbo.SecurityTrxLelang_TT trx ON trx.IdLelang = tt.IdLelang JOIN dbo.SecurityBatchResult_TR tr ON tt.ResultId = tr.ResultId AND tt.Instruction = tr.BatchType WHERE trx.[Status] = 'EXC' UPDATE bl SET MurexNoKemenkeu = tr.MurexNoKemenkeu ,MurexNoTrader = tr.MurexNoTrader FROM #tmp_blotter bl JOIN SecurityReplaceTrxLelang_TT rep ON bl.IdLelang = rep.IdLelang JOIN dbo.[SecurityTrxResultLelang_TT] tt ON rep.IdLelang_Source = tt.IdLelang JOIN dbo.SecurityBatchResult_TR tr ON tt.ResultId = tr.ResultId AND tt.Instruction = tr.BatchType WHERE tt.StatusData = 'EXC' IF EXISTS(SELECT TOP 1 1 FROM #tmp_blotter a JOIN dbo.SecurityReplaceTrxLelang_TT b WITH(NOLOCK) ON b.IdLelang_Source = a.IdLelang WHERE b.IdLelang IS NOT NULL AND @pcTrxType <> 'Sekunder' ) BEGIN UPDATE a SET [ReplaceIdLelang] = STUFF( ( SELECT DISTINCT ',' + CAST(IdLelang AS VARCHAR(19)) FROM dbo.SecurityReplaceTrxLelang_TT WITH(NOLOCK) WHERE IdLelang_Source = a.IdLelang FOR XML PATH ('') ), 1, 1, '' ) FROM #tmp_blotter a WHERE a.IdLelang IS NOT NULL UPDATE a SET [ReplaceIdLelang] = [ReplaceIdLelang] + ' - ' +CONVERT(VARCHAR(15),c.InsertedDate,106) FROM #tmp_blotter a JOIN dbo.SecurityReplaceTrxLelang_TT b WITH(NOLOCK) ON b.IdLelang_Source = a.IdLelang JOIN dbo.SecurityTrxLelang_TT c WITH(NOLOCK) ON b.IdLelang = c.IdLelang WHERE a.IdLelang IS NOT NULL END - NamaInputter - UPDATE tmp SET NIKNamaInputter = RTRIM(tmp.NIKInputter) + '-' + RTRIM(u.fullname) FROM #tmp_blotter tmp INNER JOIN dbo.user_nisp_v u ON tmp.NIKInputter = u.nik - NamaSeller - UPDATE tmp SET NIKNamaSeller = RTRIM(tmp.NIKSeller) + '-' + RTRIM(u.fullname) FROM #tmp_blotter tmp INNER JOIN dbo.user_nisp_v u ON tmp.NIKSeller = u.nik - EA Customer NIKMarketingFlagging - UPDATE tmp SET NIKMarketing = ea.MOId FROM #tmp_blotter tmp INNER JOIN dbo.EACustomerFlagging_TM_v ea ON tmp.PBEACustomerId = ea.CustomerId - NIKMarketingFlagging & IsPremierBanking - UPDATE tmp SET NIKMarketing = pb.UserId FROM #tmp_blotter tmp INNER JOIN dbo.PBCustomerFlagging_TM_v pb ON tmp.PBEACustomerId = pb.CustomerId - NameMarketingFlagging - UPDATE tmp SET NIKNamaMarketing = RTRIM(tmp.NIKMarketing) + '-' + RTRIM(u.fullname) FROM #tmp_blotter tmp INNER JOIN dbo.user_nisp_v u ON tmp.NIKMarketing = u.nik - Sumber Dana - INSERT #tmp_SOF( DealIdProduct ,Product ,SourceData ,DealIdSource ,Account ) SELECT DealIdProduct ,Product ,SourceData ,DealIdSource ,Account FROM #tmp_blotter tmp JOIN dbo.TRSListTransactionSourceOfFund_TT tt ON RTRIM(tt.Product) IN ('Obligasi', 'Lelang') AND tmp.DealId = tt.DealIdProduct WHERE TrxStatus NOT IN ('11') INSERT #tmp_SOF( DealIdProduct ,Product ,SourceData ,DealIdSource ,Account ) SELECT DealIdProduct ,Product ,SourceData ,DealIdSource ,Account FROM #tmp_blotter tmp JOIN dbo.TRSListTransactionSourceOfFund_TH tt ON RTRIM(tt.Product) IN ('Obligasi', 'Lelang') AND tmp.DealId = tt.DealIdProduct WHERE TrxStatus IN ('11') AND [Description] = 'DELETE DATA' INSERT #tmp_SOF( DealIdProduct ,Product ,SourceData ,DealIdSource ,Account ) SELECT DealIdParent ,'Obligasi' ,'Obligasi' ,DealIdChild ,0 FROM #tmp_blotter tmp JOIN dbo.SecurityTransactionLink_TR tr ON tmp.DealId = tr.DealIdParent WHERE TrxStatus NOT IN ('11') INSERT #tmp_SOF( DealIdProduct ,Product ,SourceData ,DealIdSource ,Account ) SELECT DealIdParent ,'Obligasi' ,'Obligasi' ,DealIdChild ,0 FROM #tmp_blotter tmp JOIN dbo.SecurityTranscationLink_TL tr ON tmp.DealId = tr.DealIdParent WHERE TrxStatus IN ('11') SELECT DISTINCT sof2.DealIdProduct, SUBSTRING( ( SELECT CASE sof1.SourceData WHEN 'Rekening' THEN ', ' + 'Rekening-[' + CONVERT(VARCHAR(100), sof1.Account) + ']' ELSE ',' + sof1.SourceData + '-[' + CONVERT(VARCHAR(100), sof1.DealIdSource) + ']' END AS [text()] FROM #tmp_SOF sof1 WHERE sof1.DealIdProduct = sof2.DealIdProduct ORDER BY sof1.DealIdProduct FOR XML PATH (''), TYPE ).value('text()[1] ','NVARCHAR(max)'), 2, 1000) AS SumberDana INTO #tmpSumberDana FROM #tmp_SOF sof2 UPDATE blt SET SumberDana = sd.SumberDana FROM #tmp_blotter blt JOIN #tmpSumberDana sd ON blt.DealId = sd.DealIdProduct UPDATE blt SET SumberDana = 'Rekening-[' + CONVERT(VARCHAR(100), NoRekInestor) + ']' FROM #tmp_blotter blt WHERE ISNULL(SumberDana, '') = '' AND TransactionType != 'Buy' DELETE tmp FROM #tmp_blotter tmp WHERE @pcBenefitType != 'ALL' AND (ISNULL(TipeBenefit, '') = '' OR TipeBenefit != @pcBenefitType) DELETE tmp FROM #tmp_blotter tmp WHERE RTRIM(TransactionType) IN ('Bond Due', 'Coupon') UPDATE tmp SET Kurs = sct.BIRate FROM #tmp_blotter tmp INNER JOIN dbo.SIBSCurrencyTable_TM_v sct ON tmp.Currency = sct.CurrencyCode WHERE sct.PBOId = '500' AND CONVERT(VARCHAR, tmp.TanggalTransaksi, 112) >= CONVERT(VARCHAR, GETDATE(), 112) AND CONVERT(VARCHAR, tmp.TanggalTransaksi, 112) < DATEADD(DAY, 1, DATEADD(DAY, DATEDIFF(DAY,0,GETDATE()), 0)) UPDATE tmp SET tmp.Kurs = ISNULL(sc.BIRate, 1) FROM #tmp_blotter AS tmp JOIN SQL_SIBS.dbo.SIBSCurrencyTable_EOD AS sc ON CONVERT(VARCHAR, tmp.TanggalTransaksi, 112) = sc.Period AND sc.CurrencyCode = tmp.Currency WHERE tmp.Currency <> 'IDR' and sc.PBOId = 500 AND tmp.TanggalTransaksi < CONVERT(VARCHAR, GETDATE(), 112) AND tmp.Kurs IS NULL UPDATE #tmp_blotter SET Kurs = 1 WHERE Currency = 'IDR' UPDATE tmp SET RevenueInIDR = hr.ProfitLCY FROM #tmp_blotter tmp JOIN dbo.TRSHasilRevenue_TM AS hr ON tmp.DealId = hr.DealId UPDATE tmp SET RevenueInIDR = CASE WHEN Currency = 'IDR' THEN convert( DECIMAL(20,5), CASE WHEN tmp.TrxType = 4 THEN ( ISNULL(tmp.DealPrice,0) - ISNULL(tmp.nHargaModal,0)) * tmp.nFaceValue WHEN tmp.TrxType = 3 THEN ( ISNULL(tmp.nHargaModal,0) - ISNULL(tmp.DealPrice,0)) * tmp.nFaceValue ELSE 0 END) / 100.00 ELSE (convert( DECIMAL(20,5), CASE WHEN tmp.TrxType = 4 THEN ( ISNULL(tmp.DealPrice,0) - ISNULL(tmp.nHargaModal,0)) * tmp.nFaceValue WHEN tmp.TrxType = 3 THEN ( ISNULL(tmp.nHargaModal,0) - ISNULL(tmp.DealPrice,0)) * tmp.nFaceValue ELSE 0 END) / 100.00 ) * Kurs END FROM #tmp_blotter tmp WHERE RevenueInIDR IS NULL UPDATE tmp SET BondType = CASE WHEN sm.IsCorporateBond = 0 AND sm.SecType != 3 THEN 'GOV' WHEN sm.IsCorporateBond = 0 AND sm.SecType = 3 THEN 'SRBI' ELSE 'CORP' END FROM #tmp_blotter tmp JOIN dbo.SecurityMaster_TM sm WITH(NOLOCK) ON tmp.SecId = sm.SecId SELECT [DealId] ,IdLelang ,[SecurityAcctNo] ,[TransactionType] ,[ProductName] ,[TipeBenefit] ,[Name] ,[BranchTransaksi] ,[Currency] ,[FaceValue] ,HargaModal ,[DealPrice] ,[AccruedInterest] ,[TotalProceed] ,SumberDana ,[TanggalTransaksi] ,[SettlementDate] ,[DealNoMurex] ,[Status] ,[Instruksi] ,[ReplaceIdLelang] ,MurexNoKemenkeu ,MurexNoTrader ,NIKNamaInputter ,NIKNamaSeller ,NIKNamaMarketing ,CONVERT(VARCHAR(30),CONVERT(MONEY,RevenueInIDR),1) AS RevenueInIDR ,BondType FROM #tmp_blotter IF OBJECT_ID('tempdb..#tmp_blotter') IS NOT NULL DROP TABLE #tmp_blotter IF OBJECT_ID('tempdb..#tmp_SOF') IS NOT NULL DROP TABLE #tmp_SOF IF OBJECT_ID('tempdb..#tmpSumberDana') IS NOT NULL DROP TABLE #tmpSumberDana",INSERT,true,true,SQL_SIBS,29,false,r.db_trs,,84b3aa0e316d6598bba52700e50606248b6087a6,HIGH,go3/bond_transaction_repository.go,67
golang-sample,go3/refundBillingQueries_manual.sql.go,refundBillingQueries_manual.sql.go,code,go,go,12,12,go3/refundBillingQueries_manual.sql.go@L12,"-- name: ExecBASelectRefundBilling :many
exec BA_SelectRefundBilling @p1
",name: ExecBASelectRefundBilling :many exec BA_SelectRefundBilling @p1,EXEC,true,false,,1,false,,,df4c407b48cae07f524bfc47dfec3833e8ecd06e,MEDIUM,go3/refundBillingQueries_manual.sql.go,12
golang-sample,go3/refundBillingQueries_manual.sql.go,refundBillingQueries_manual.sql.go,code,go,go,46,46,ExecBASelectRefundBilling,"-- name: ExecBASelectRefundBilling :many
exec BA_SelectRefundBilling @p1
",name: ExecBASelectRefundBilling :many exec BA_SelectRefundBilling @p1,EXEC,true,false,,1,false,ctx,,df4c407b48cae07f524bfc47dfec3833e8ecd06e,MEDIUM,go3/refundBillingQueries_manual.sql.go,12
